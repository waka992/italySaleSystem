(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["sellstatistics"],{2922:function(t,e,a){"use strict";var l=a("6b6d"),i=a.n(l);i.a},"33e7":function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box",style:"width: 100%;"},[a("div",{staticClass:"line-chart",attrs:{id:"line-chart"}})])},i=[],s=(a("2ef0"),a("63e3")),r={name:"LineChart",props:{height:{type:String,default:"0px"},width:{type:String,default:"0px"}},data:function(){return{chart:null}},mounted:function(){this.initCharts()},methods:{initCharts:function(){var t=null;if(!this.chart){var e=this.$el.querySelector(".line-chart");t=s["a"](e,this.theme,{width:"auto",height:this.height,renderer:"canvas"});var a={grid:{top:"20px",left:"30px",right:0,bottom:"30px"},xAxis:{type:"category",data:[],splitNum:1,interval:0,splitLine:{show:!1},axisTick:{show:!1},axisLabel:{interval:0,fontSize:9}},yAxis:{axisTick:{show:!0},splitLine:{show:!1},axisLine:{show:!0},axisLabel:{fontSize:9}},series:[{name:" ",type:"bar",data:[],barWidth:12,itemStyle:{color:"#2183EA"}}],tooltip:{show:!0}};t.setOption(a),this.chart=t}},setData:function(t){this.chart.setOption(t)}}},n=r,o=a("2877"),c=Object(o["a"])(n,l,i,!1,null,"31a14ff4",null);e["a"]=c.exports},"4e21":function(t,e,a){},"519d":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[t._v("销售")]),a("el-breadcrumb-item",[t._v("销售统计")])],1)],1),a("div",{staticClass:"top-box"},[a("div",{staticClass:"date-select"},[a("date-selector",{on:{change:t.getSellDate}})],1),a("div",[a("div",{staticClass:"top-switch"},t._l(t.topTab,(function(e,l){return a("div",{key:e.name,staticClass:"tab",class:t.topSelected==l?"active":"",on:{click:function(e){return t.topTapClick(l)}}},[t._v(t._s(e.name))])})),0),a("div",{staticClass:"date-switch"},t._l(t.dateTab,(function(e,l){return a("div",{key:e.name,staticClass:"tab",class:t.dateSelected==l?"active":"",on:{click:function(e){return t.dateTapClick(l)}}},[t._v(t._s(e.name))])})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:"attribute"==t.topTar,expression:"topTar == 'attribute'"}],staticClass:"attribute-select-area"},[a("span",[t._v("特色/Special")]),a("span",[a("el-select",{staticClass:"attr-select",attrs:{placeholder:"请选择",clearable:""},on:{change:t.getAttributeData},model:{value:t.attrForm.special,callback:function(e){t.$set(t.attrForm,"special",e)},expression:"attrForm.special"}},t._l(t.itemOptions.special,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("span",[t._v("颜色/Color")]),a("span",[a("el-select",{staticClass:"attr-select",attrs:{placeholder:"请选择",clearable:""},on:{change:t.getAttributeData},model:{value:t.attrForm.color,callback:function(e){t.$set(t.attrForm,"color",e)},expression:"attrForm.color"}},t._l(t.itemOptions.color,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("span",[t._v("尺码/Size")]),a("span",[a("el-select",{staticClass:"attr-select",attrs:{placeholder:"请选择",clearable:""},on:{change:t.getAttributeData},model:{value:t.attrForm.size,callback:function(e){t.$set(t.attrForm,"size",e)},expression:"attrForm.size"}},t._l(t.itemOptions.size,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("span",[t._v("面料/Material")]),a("span",[a("el-select",{staticClass:"attr-select",attrs:{placeholder:"请选择",clearable:""},on:{change:t.getAttributeData},model:{value:t.attrForm.material,callback:function(e){t.$set(t.attrForm,"material",e)},expression:"attrForm.material"}},t._l(t.itemOptions.material,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)]),a("div",{staticClass:"charts"},[a("line-chart",{ref:"lineChart",attrs:{height:"400px",width:"100%"}})],1),a("div",{staticClass:"data-list"},t._l(t.listData,(function(e,l){return a("span",{key:l,staticStyle:{"margin-right":"36px"}},[t._v("\n                    "+t._s("single"==t.topTar?e.specification:"customer"==t.topTar?e.customer_name:"attribute"==t.topTar?e.goodsName:"")+"-"+t._s(e.CASENUM)+"箱-金额："+t._s(e.PRICE)+"\n                ")])})),0)])])])},i=[],s=(a("2ef0"),a("c1df")),r=a.n(s),n=a("d0c2"),o=a("33e7"),c=a("365c"),u=(a("7609"),{name:"SellStatistics",components:{DateSelector:n["a"],LineChart:o["a"]},data:function(){return{listData:[],date:"",topTar:"single",baseDialogVisible:!1,status:0,topSelected:0,dateSelected:0,topTab:[{name:"单品"},{name:"客户"},{name:"属性"}],dateTab:[{name:"周"},{name:"月"},{name:"季"},{name:"年"}],attrForm:{special:"",color:"",size:"",material:""},itemOptions:{special:[],color:[],size:[],material:[]}}},created:function(){this.getSingleData(),this.getAttributeOption()},methods:{getSellDate:function(t){this.date=t,this.topTapClick(this.topSelected)},resetChart:function(){this.listData=[],this.setData([])},getSingleData:function(){var t=this,e={STime:this.date||r()().format("YYYY-MM-DD"),type:this.dateSelected};Object(c["P"])(e).then((function(e){for(var a=e,l=0;l<a.length;l++){var i=a[l];a[l].x=i.specification,a[l].y=i.PRICE,a[l].caseNum=i.CASENUM}t.listData=a,t.setData(a)}))},getCustomerData:function(){var t=this,e={STime:this.date||r()().format("YYYY-MM-DD"),type:this.dateSelected};Object(c["r"])(e).then((function(e){for(var a=e,l=0;l<a.length;l++){var i=a[l];a[l].x=i.customer_name,a[l].y=i.PRICE,a[l].caseNum=i.CASENUM}t.listData=a,t.setData(a)}))},getAttributeData:function(){var t=this;if(this.attrForm.special||this.attrForm.color||this.attrForm.material||this.attrForm.size){var e={stime:this.date||r()().format("YYYY-MM-DD"),type:this.dateSelected,characteristic:this.attrForm.special?[this.attrForm.special]:[],color:this.attrForm.color?[this.attrForm.color]:[],component:this.attrForm.material?[this.attrForm.material]:[],sizes:this.attrForm.size?[this.attrForm.size]:[]};Object(c["h"])(e).then((function(e){for(var a=e,l=0;l<a.length;l++){var i=a[l];a[l].x=i.goodsName,a[l].y=i.PRICE,a[l].caseNum=i.CASENUM}t.listData=a,t.setData(a)}))}},setData:function(t){for(var e=[],a=[],l=0;l<t.length;l++){var i=t[l];e.push(i.x),a.push({value:i.y,amount:i.caseNum})}var s={xAxis:{data:e,axisLabel:{fontSize:14}},yAxis:{axisLabel:{fontSize:14}},series:[{data:a}]};"single"==this.topTar&&(s.series[0].tooltip={formatter:function(t){return"金额:"+t.data.value+"&nbsp箱数"+t.data.amount}}),this.$refs.lineChart.setData(s)},topTapClick:function(t){this.topSelected=t,0==t&&(this.topTar="single",this.getSingleData()),1==t&&(this.topTar="customer",this.getCustomerData()),2==t&&(this.topTar="attribute",this.resetChart(),this.getAttributeData())},getAttributeOption:function(){var t=this;this.itemOptions={special:[],color:[],size:[],material:[]},Object(c["A"])().then((function(e){for(var a in e)if(Object.hasOwnProperty.call(e,a))for(var l=e[a],i=0;i<l.length;i++){var s=l[i],r="";switch(a){case"0":r="color";break;case"1":r="size";break;case"2":r="material";break;case"5":r="special";break}if(!r)break;t.itemOptions[r].push({label:s.arrtibute,value:s.arrtibute})}}))},dateTapClick:function(t){this.dateSelected=t,this.topTapClick(this.topSelected)}}}),h=u,p=(a("2922"),a("2877")),d=Object(p["a"])(h,l,i,!1,null,"4c5b30b6",null);e["default"]=d.exports},"6b6d":function(t,e,a){},7609:function(t,e,a){"use strict";var l={accountType:[{value:0,label:"现金"},{value:1,label:"转账"},{value:2,label:"微信"},{value:3,label:"发票"}],payWay:[{value:0,label:"发票"},{value:1,label:"汇款"}],payENWay:[{value:0,label:"INVOICE"},{value:1,label:"CASH"}],payStatus:[{value:0,label:"未支付"},{value:1,label:"已支付"},{value:2,label:"欠款"},{value:3,label:"已结欠"}],payENStatus:[{value:0,label:"PAID"},{value:1,label:"UNPAID"}],soldStatus:[{value:"",label:"预录入"},{value:0,label:"即将到货"},{value:1,label:"现货"},{value:2,label:"售罄"}],settingItemValue:[{value:5,label:"特色/Special"},{value:0,label:"颜色/Color"},{value:1,label:"尺码/Size"},{value:2,label:"面料/Material"},{value:4,label:"配比/Ratio"}],containerStatus:[{value:0,label:"未运输"},{value:1,label:"已发货"},{value:2,label:"已到达待确认"},{value:3,label:"已确认货物"}],transportType:[{value:0,label:"海运"},{value:1,label:"陆运"},{value:2,label:"空运"},{value:3,label:"其他"}],getDict:function(t,e){for(var a=0;a<l[e].length;a++){var i=l[e][a];if(i.value==t)return i.label}}};e["a"]=l},"948e":function(t,e,a){"use strict";var l=a("4e21"),i=a.n(l);i.a},d0c2:function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-selector"},[a("div",{staticClass:"date"},[a("el-date-picker",{ref:"dateSelector",attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},on:{change:t.dateChange},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("div",{staticClass:"showDate",on:{click:t.dateClick}},[t._v("\n        "+t._s(t.date?t.date:"请选日期")+"\n        "),a("span",{staticClass:"unfold-pic"})])])},i=[],s={name:"DateSelector",props:{},data:function(){return{date:""}},mounted:function(){},methods:{resetDate:function(){this.date=""},dateClick:function(){this.$refs.dateSelector.focus()},dateChange:function(t){this.date=t,this.$emit("change",t)}}},r=s,n=(a("948e"),a("2877")),o=Object(n["a"])(r,l,i,!1,null,"4c16e271",null);e["a"]=o.exports}}]);