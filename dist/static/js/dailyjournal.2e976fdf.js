(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dailyjournal"],{"1ab3":function(e,t,a){"use strict";t.__esModule=!0;var n=a("7fae"),r=a("6d8b"),i=a("2306"),o=a("7d6c"),l=a("e887"),s=a("bb70"),c=a("89b6"),u=a("7837"),d=a("d32f"),p=function(e){function t(t,a,n){var r=e.call(this)||this;r.z2=2;var o=new i.Polyline,l=new i.Text;return r.setTextGuideLine(o),r.setTextContent(l),r.updateData(t,a,n,!0),r}return n.__extends(t,e),t.prototype.updateData=function(e,t,a,l){var s=this,c=e.hostModel,u=e.getItemModel(t),p=u.getModel("emphasis"),g=e.getItemLayout(t),h=r.extend(d.getSectorCornerRadius(u.getModel("itemStyle"),g)||{},g);if(l){s.setShape(h);var m=c.getShallow("animationType");"scale"===m?(s.shape.r=g.r0,i.initProps(s,{shape:{r:g.r}},c,t)):null!=a?(s.setShape({startAngle:a,endAngle:a}),i.initProps(s,{shape:{startAngle:g.startAngle,endAngle:g.endAngle}},c,t)):(s.shape.endAngle=g.startAngle,i.updateProps(s,{shape:{endAngle:g.endAngle}},c,t))}else i.updateProps(s,{shape:h},c,t);s.useStyle(e.getItemVisual(t,"style")),o.setStatesStylesFromModel(s,u);var f=(g.startAngle+g.endAngle)/2,v=c.get("selectedOffset"),y=Math.cos(f)*v,b=Math.sin(f)*v,w=u.getShallow("cursor");w&&s.attr("cursor",w),this._updateLabel(c,e,t),s.ensureState("emphasis").shape=n.__assign({r:g.r+(p.get("scale")&&p.get("scaleSize")||0)},d.getSectorCornerRadius(p.getModel("itemStyle"),g)),r.extend(s.ensureState("select"),{x:y,y:b,shape:d.getSectorCornerRadius(u.getModel(["select","itemStyle"]),g)}),r.extend(s.ensureState("blur"),{shape:d.getSectorCornerRadius(u.getModel(["blur","itemStyle"]),g)});var S=s.getTextGuideLine(),x=s.getTextContent();r.extend(S.ensureState("select"),{x:y,y:b}),r.extend(x.ensureState("select"),{x:y,y:b}),o.enableHoverEmphasis(this,p.get("focus"),p.get("blurScope"))},t.prototype._updateLabel=function(e,t,a){var n=this,i=t.getItemModel(a),o=i.getModel("labelLine"),l=t.getItemVisual(a,"style"),s=l&&l.fill,d=l&&l.opacity;u.setLabelStyle(n,u.getLabelStatesModels(i),{labelFetcher:t.hostModel,labelDataIndex:a,inheritColor:s,defaultOpacity:d,defaultText:e.getFormattedLabel(a,"normal")||t.getName(a)});var p=n.getTextContent();n.setTextConfig({position:null,rotation:null}),p.attr({z2:10}),c.setLabelLineStyle(this,c.getLabelLineStatesModels(i),{stroke:s,opacity:r.retrieve3(o.get(["lineStyle","opacity"]),d,1)})},t}(i.Sector),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return n.__extends(t,e),t.prototype.init=function(){var e=new i.Group;this._sectorGroup=e},t.prototype.render=function(e,t,a,n){var r,o=e.getData(),l=this._data,c=this.group;if(!l&&o.count()>0){for(var u=o.getItemLayout(0),d=1;isNaN(u&&u.startAngle)&&d<o.count();++d)u=o.getItemLayout(d);u&&(r=u.startAngle)}o.diff(l).add((function(e){var t=new p(o,e,r);o.setItemGraphicEl(e,t),c.add(t)})).update((function(e,t){var a=l.getItemGraphicEl(t);a.updateData(o,e,r),a.off("click"),c.add(a),o.setItemGraphicEl(e,a)})).remove((function(t){var a=l.getItemGraphicEl(t);i.removeElementWithFadeOut(a,e,t)})).execute(),s["default"](e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var a=t.getData(),n=a.getItemLayout(0);if(n){var r=e[0]-n.cx,i=e[1]-n.cy,o=Math.sqrt(r*r+i*i);return o<=n.r&&o>=n.r0}},t.type="pie",t}(l["default"]);l["default"].registerClass(g),t["default"]=g},"292e":function(e,t,a){"use strict";t.__esModule=!0;var n=a("3842"),r=a("f934"),i=a("6d8b"),o=2*Math.PI,l=Math.PI/180;function s(e,t){return r.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function c(e,t,a){t.eachSeriesByType(e,(function(e){var t=e.getData(),r=t.mapDimension("value"),c=s(e,a),u=e.get("center"),d=e.get("radius");i.isArray(d)||(d=[0,d]),i.isArray(u)||(u=[u,u]);var p=n.parsePercent(c.width,a.getWidth()),g=n.parsePercent(c.height,a.getHeight()),h=Math.min(p,g),m=n.parsePercent(u[0],p)+c.x,f=n.parsePercent(u[1],g)+c.y,v=n.parsePercent(d[0],h/2),y=n.parsePercent(d[1],h/2),b=-e.get("startAngle")*l,w=e.get("minAngle")*l,S=0;t.each(r,(function(e){!isNaN(e)&&S++}));var x=t.getSum(r),_=Math.PI/(x||S)*2,D=e.get("clockwise"),C=e.get("roseType"),M=e.get("stillShowZeroSum"),k=t.getDataExtent(r);k[0]=0;var T=o,A=0,N=b,P=D?1:-1;if(t.setLayout({viewRect:c,r:y}),t.each(r,(function(e,a){var r;if(isNaN(e))t.setItemLayout(a,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:D,cx:m,cy:f,r0:v,r:C?NaN:y});else{r="area"!==C?0===x&&M?_:e*_:o/S,r<w?(r=w,T-=w):A+=e;var i=N+P*r;t.setItemLayout(a,{angle:r,startAngle:N,endAngle:i,clockwise:D,cx:m,cy:f,r0:v,r:C?n.linearMap(e,k,[v,y]):y}),N=i}})),T<o&&S)if(T<=.001){var I=o/S;t.each(r,(function(e,a){if(!isNaN(e)){var n=t.getItemLayout(a);n.angle=I,n.startAngle=b+P*a*I,n.endAngle=b+P*(a+1)*I}}))}else _=T/A,N=b,t.each(r,(function(e,a){if(!isNaN(e)){var n=t.getItemLayout(a),r=n.angle===w?w:e*_;n.startAngle=N,n.endAngle=N+P*r,N+=P*r}}))}))}t["default"]=c},2957:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pie-chart-box"},[a("div",{staticClass:"line-chart",attrs:{id:"line-chart"}})])}],i=a("3eba");a("c037"),a("007d"),a("627c"),a("d28f");var o={name:"PieChart",props:{height:{type:String,default:"0px"},width:{type:String,default:"0px"}},data:function(){return{chart:null}},mounted:function(){this.initCharts()},methods:{initCharts:function(){var e=null;if(!this.chart){var t=this.$el.querySelector(".line-chart");e=i.init(t,this.theme,{width:this.width||"auto",height:this.height,renderer:"canvas"});var a={legend:{type:"plain",orient:"vertical",left:100,right:0,top:0,bottom:0,itemWidth:11,itemHeight:6,data:[]},grid:{left:"left",right:0},series:[{name:"姓名",type:"pie",hoverAnimation:!1,animation:!1,center:["45px","50%"],labelLine:{show:!1},label:{show:!1},radius:"45px",data:[]}]};e.setOption(a),this.chart=e}},setData:function(e){this.chart.setOption(e)}}},l=o,s=(a("2b2d"),a("2877")),c=Object(s["a"])(l,n,r,!1,null,"59786eef",null);t["a"]=c.exports},"2b2d":function(e,t,a){"use strict";var n=a("9828"),r=a.n(n);r.a},"30ba":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"daily-journal-box"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("公司")]),a("el-breadcrumb-item",[e._v("流水日记账")])],1)],1),a("div",{staticClass:"new-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addReady}},[e._v("+新增流水")])],1),a("div",{staticClass:"flex-box"},[a("div",{staticClass:"left-box"},[a("div",{staticClass:"box"},[a("div",{staticClass:"title"},[e._v("今日收入流水")]),a("div",{staticClass:"operate"},[a("el-input",{staticClass:"name-search",attrs:{"suffix-icon":"el-icon-search",placeholder:"输入公司名称"},model:{value:e.income.companyName,callback:function(t){e.$set(e.income,"companyName",t)},expression:"income.companyName"}}),a("div",{staticClass:"timer"},[a("span",{staticClass:"label"},[e._v("筛选日期")]),a("el-date-picker",{attrs:{"picker-options":e.pickerOptions,type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.income.date,callback:function(t){e.$set(e.income,"date",t)},expression:"income.date"}})],1),a("div",{staticClass:"selector"},[a("span",{staticClass:"label"},[e._v("付款方式")]),a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.income.payment,callback:function(t){e.$set(e.income,"payment",t)},expression:"income.payment"}},e._l(e.dict.accountType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-button",{staticStyle:{"margin-left":"16px"},attrs:{icon:"el-icon-search"},on:{click:e.getIncomeData}})],1),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.income.tableData,stripe:"",height:"314","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{prop:"date",label:"日期",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e.timeFormat(t.row.createTime))+"\n                        ")]}}])}),a("el-table-column",{attrs:{prop:"customerName",label:"收款方",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(t.row.customerName||t.row.invoiceTitle)+"\n                        ")]}}])}),a("el-table-column",{attrs:{label:"支付方式",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.dict.getDict(t.row.accountType,"accountType")))]}}])}),a("el-table-column",{attrs:{prop:"money",label:"金额",align:"center"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center"}}),a("el-table-column",{attrs:{prop:"remark",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"del-btn",on:{click:function(a){return e.operate("del",t.row,"income")}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","current-page":e.income.page.no,"page-size":e.income.page.size,"page-sizes":[5,10,20],total:e.income.page.total,layout:"total, prev, pager, next, sizes, jumper"},on:{"size-change":e.handleIncomeSizeChange,"current-change":e.baseIncomePageChange}})],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"title"},[e._v("今日支出流水")]),a("div",{staticClass:"operate"},[a("div",{staticClass:"timer"},[a("span",{staticClass:"label"},[e._v("筛选日期")]),a("el-date-picker",{attrs:{"picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.pay.date,callback:function(t){e.$set(e.pay,"date",t)},expression:"pay.date"}})],1),a("div",{staticClass:"selector"},[a("span",{staticClass:"label"},[e._v("支出方式")]),a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:e.pay.payment,callback:function(t){e.$set(e.pay,"payment",t)},expression:"pay.payment"}},e._l(e.dict.accountType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-button",{staticStyle:{"margin-left":"16px"},attrs:{icon:"el-icon-search"},on:{click:e.getPayData}})],1)]),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.pay.tableData,stripe:"",height:"314","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{label:"日期",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(e.timeFormat(t.row.createTime))+"\n                        ")]}}])}),a("el-table-column",{attrs:{prop:"customerName",label:"支付方",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                            "+e._s(t.row.customerName||t.row.invoiceTitle)+"\n                        ")]}}])}),a("el-table-column",{attrs:{label:"支付方式",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.dict.getDict(t.row.accountType,"accountType")))]}}])}),a("el-table-column",{attrs:{prop:"money",label:"金额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:1==t.row.bookType?"red":"green"},[e._v(e._s(1==t.row.bookType?"+":"-")+e._s(t.row.money))])]}}])}),a("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center"}}),a("el-table-column",{attrs:{prop:"remark",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"del-btn",on:{click:function(a){return e.operate("del",t.row,"pay")}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","current-page":e.pay.page.no,"page-size":e.pay.page.size,"page-sizes":[5,10,20],total:e.pay.page.total,layout:"total, prev, pager, next, sizes, jumper"},on:{"size-change":e.handlePaySizeChange,"current-change":e.basePayPageChange}})],1)],1)]),a("div",{staticClass:"right-box"},[a("div",{staticClass:"title"},[e._v("流水总汇")]),a("div",{staticClass:"date-select"},[a("date-selector",{on:{change:e.getFlowDate}})],1),a("div",{staticClass:"top-chart"},[a("div",{staticClass:"top-total"},[e._v("总收入："+e._s(e.income.total)+"元")]),a("pie-chart",{ref:"pieChart1",attrs:{width:"200",height:"164"}})],1),a("div",{staticClass:"bottom-chart"},[a("div",{staticClass:"bottom-total"},[e._v("总支出："+e._s(e.pay.total)+"元")]),a("pie-chart",{ref:"pieChart2",attrs:{width:"200",height:"164"}})],1)])]),a("el-dialog",{attrs:{"close-on-click-modal":!1,"show-close":!1,title:"new"==e.operateTar?"新增支出/收入记录":"编辑支出/收入记录",visible:e.baseDialogVisible,width:"551px"},on:{"update:visible":function(t){e.baseDialogVisible=t}}},[a("el-form",{ref:"incomeform",attrs:{model:e.incomeform,"label-width":"178px",rules:e.incomerules}},[a("el-form-item",{attrs:{label:"公司名称",prop:"companyName"}},[a("el-autocomplete",{staticClass:"form-input",attrs:{size:"mini","fetch-suggestions":e.queryCompany,placeholder:"请输入"},on:{select:e.handleSelectCompany},model:{value:e.incomeform.companyName,callback:function(t){e.$set(e.incomeform,"companyName",t)},expression:"incomeform.companyName"}})],1),a("el-form-item",{attrs:{label:"收付款名称",prop:"customerName"}},[a("el-autocomplete",{staticClass:"form-input",attrs:{size:"mini","fetch-suggestions":e.queryName,maxlength:15,"show-word-limit":"",placeholder:"请输入客户名"},on:{select:e.handleSelect},model:{value:e.incomeform.customerName,callback:function(t){e.$set(e.incomeform,"customerName",t)},expression:"incomeform.customerName"}})],1),a("el-form-item",{attrs:{label:"日期",prop:"createTime"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},model:{value:e.incomeform.createTime,callback:function(t){e.$set(e.incomeform,"createTime",t)},expression:"incomeform.createTime"}})],1),a("el-form-item",{attrs:{label:"收入/支出",prop:"money"}},[a("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"例如+1000"},on:{input:function(t){return e.$forceUpdate()}},model:{value:e.incomeform.money,callback:function(t){e.$set(e.incomeform,"money",t)},expression:"incomeform.money"}})],1),a("el-form-item",{attrs:{label:"资金状态",prop:"accountType"}},[a("el-select",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请选择"},model:{value:e.incomeform.accountType,callback:function(t){e.$set(e.incomeform,"accountType",t)},expression:"incomeform.accountType"}},e._l(e.dict.accountType,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入备注内容"},model:{value:e.incomeform.remark,callback:function(t){e.$set(e.incomeform,"remark",t)},expression:"incomeform.remark"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"curr-btn",attrs:{plain:""},on:{click:function(t){e.baseDialogVisible=!1}}},[e._v("取消")]),a("el-button",{staticClass:"curr-btn",attrs:{type:"primary"},on:{click:e.saveIncome}},[e._v("保存")])],1)],1)],1)},r=[],i=(a("c5f6"),a("7f7f"),a("2ef0")),o=a("2957"),l=a("d0c2"),s=a("365c"),c=a("9dcd"),u=a.n(c),d=a("7609"),p={name:"DailyJournal",components:{DateSelector:l["a"],PieChart:o["a"]},data:function(){return{dict:{},searchAdvice:[],chartDate:"",baseDialogVisible:!1,operateTar:"new",incomeform:{},income:{companyName:"",date:this.$moment().format("YYYY-MM-DD"),payment:"",total:0,tableData:[],page:{no:1,total:0,size:5}},pay:{date:this.$moment().format("YYYY-MM-DD"),payment:"",total:0,tableData:[],page:{no:1,total:0,size:5}},rules:{name:[{required:!0,message:"请输入公司名",trigger:"change"}],person:[{required:!0,message:"请输入法人代表",trigger:"change"}],license:[{required:!0,message:"请输入营业执照注册号",trigger:"change"}],code:[{required:!0,message:"请输入税务代码",trigger:"change"}],mobile:[{required:!0,message:"请输入联系电话",trigger:"change"}]},incomerules:{companyName:[{required:!0,message:"请输入",trigger:"change"}],createTime:[{required:!0,message:"请输入日期",trigger:"change"}],money:[{required:!0,message:"请输入",trigger:"change"}]},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}}}},created:function(){this.getIncomeData(),this.getPayData(),this.dict=d["a"]},mounted:function(){this.getPieData()},methods:{getPieData:function(e){var t=this,a="";a=e?this.$moment(e).format("YYYY-MM-DD"):this.$moment().format("YYYY-MM-DD");var n={bookDate:a,payDate:a};Object(s["y"])(n).then((function(e){e.cash,e.remittance;for(var a=e.incomde,n=e.pay,r=Object(i["cloneDeep"])(t.dict.accountType),o=[],l=[],s=0;s<r.length;s++){var c=r[s];o.push({_dictValue:c.value,name:c.label,value:0}),l.push({_dictValue:c.value,name:c.label,value:0})}for(var d=new u.a(0),p=new u.a(0),g=0;g<a.length;g++)for(var h=a[g],m=0;m<o.length;m++)o[m]._dictValue==h.book_type&&(o[m].value=h.cash,d=d.add(h.cash));for(var f=0;f<n.length;f++)for(var v=n[f],y=0;y<o.length;y++)l[y]._dictValue==v.book_type&&(l[y].value=v.cash,p=p.add(v.cash));t.income.total=d.toNumber()||0,t.pay.total=p.toNumber()||0,t.setChartData(o,l)}))},resetData:function(){this.incomeform={companyId:"",customerName:"",customerId:"",createTime:"",money:"",remark:"",accountType:""}},addReady:function(){var e=this;this.operateTar="new",this.resetData(),this.baseDialogVisible=!0,this.$nextTick((function(){e.$refs.incomeform.clearValidate()}))},getIncomeData:function(){var e=this,t={pageSize:this.income.page.size,page:this.income.page.no,bookType:1,companyName:this.income.companyName,incomeDate:this.income.date,payType:this.income.payment};Object(s["kb"])(t).then((function(t){e.income.tableData=t.records,e.income.page.total=t.total,e.income.page.no=t.current}))},getPayData:function(){var e=this,t={pageSize:this.pay.page.size,page:this.pay.page.no,bookType:0,companyName:"",incomeDate:this.pay.date,payType:this.pay.payment};Object(s["kb"])(t).then((function(t){e.pay.tableData=t.records,e.pay.page.total=t.total,e.pay.page.no=t.current}))},checkDetail:function(e){this.$router.push({name:"compbaseinfodetail",params:{id:e}})},setChartData:function(e,t){for(var a={color:["#3BA0F6","#5BE7C7","#F6913B"],legend:{top:40,data:[]},series:[{data:[]}]},n={color:["#EA7DE8","#E7CF5B"],legend:{top:40,data:[]},series:[{data:[]}]},r=0;r<e.length;r++){var i=e[r],o="".concat(i.name," ").concat(i.value);a.legend.data.push(o),e[r].name=o}a.series[0].data=e;for(var l=0;l<t.length;l++){var s=t[l],c="".concat(s.name," ").concat(s.value);n.legend.data.push(c),t[l].name=c}n.series[0].data=t,this.$refs.pieChart1.setData(a),this.$refs.pieChart2.setData(n)},saveIncome:function(){var e=this,t=Object(i["cloneDeep"])(this.incomeform);t.money<0?t.bookType=0:t.bookType=1,t.money=Math.abs(t.money);for(var a=!1,n=0;n<this.searchAdvice.length;n++){var r=this.searchAdvice[n];t.customerName==r.memberName&&(t.customerId=r.id,a=!0)}a||(t.invoiceTitle=t.customerName,t.customerId="",t.customerName=""),this.$refs.incomeform.validate((function(a){a&&("new"==e.operateTar&&Object(s["a"])(t).then((function(t){t&&(e.$message.success({message:"新增成功"}),e.baseDialogVisible=!1,e.getIncomeData(),e.getPayData(),e.getPieData(e.chartDate))})),"edit"==e.operateTar&&Object(s["b"])(t).then((function(t){t&&(e.$message.success({message:"编辑成功"}),e.baseDialogVisible=!1,e.getIncomeData(),e.getPayData())})))}))},queryName:function(e,t){var a=this;Object(s["Mb"])({level:"",status:"",page:1,pageSize:5,userName:e}).then((function(e){for(var n=[],r=0;r<e.records.length;r++){var i=e.records[r];n.push({value:i.memberName,id:i.id,memberName:i.memberName})}a.searchAdvice=n,t(n)}))},handleSelect:function(e){this.incomeform.customerId=e.id},queryCompany:function(e,t){var a={pageSize:5,page:1,name:e};Object(s["X"])(a).then((function(e){for(var a=[],n=0;n<e.records.length;n++){var r=e.records[n];r.value=r.name,a.push(r)}t(a)}))},handleSelectCompany:function(e){this.incomeform.companyName=e.name,this.incomeform.companyId=e.id},getFlowDate:function(e){this.chartDate=e,this.getPieData(e)},baseIncomePageChange:function(e){this.$set(this.income.page,"no",e),this.getIncomeData()},handleIncomeSizeChange:function(e){this.$set(this.income.page,"size",e),this.$set(this.income.page,"no",1),this.getIncomeData()},basePayPageChange:function(e){this.$set(this.pay.page,"no",e),this.getPayData()},handlePaySizeChange:function(e){this.$set(this.pay.page,"size",e),this.$set(this.pay.page,"no",1),this.getPayData()},timeFormat:function(e){return e?this.$moment(e).format("YYYY-MM-DD"):""},operate:function(e,t,a){var n=this;if(console.log(e,t),"edit"==e){this.operateTar="edit";var r=t.id,i=t.companyId,o=t.companyName,l=t.customerName,c=t.customerId,u=t.createTime,d=t.money,p=t.remark,g=t.accountType,h=t.bookType,m=t.invoiceTitle;this.incomeform={id:r,companyName:o,companyId:i,customerName:l||m,customerId:c,createTime:u,remark:p,accountType:Number(g)},this.incomeform.money=Number(0==h?-d:d),this.baseDialogVisible=!0,this.$nextTick((function(){n.$refs.incomeform.clearValidate()}))}"del"==e&&this.$confirm("确认删除该流水？").then((function(e){Object(s["C"])({id:t.id}).then((function(e){n.$message.success("删除成功"),"income"==a&&n.getIncomeData(),"pay"==a&&n.getPayData()}))})).catch((function(e){}))}}},g=p,h=(a("d408"),a("2877")),m=Object(h["a"])(g,n,r,!1,null,"5cac2362",null);t["default"]=m.exports},4650:function(e,t,a){"use strict";t.__esModule=!0;var n=a("3eba"),r=a("6d8b");function i(e,t,a){var n,i={},o="toggleSelected"===e;return a.eachComponent("legend",(function(a){o&&null!=n?a[n?"select":"unSelect"](t.name):"allSelect"===e||"inverseSelect"===e?a[e]():(a[e](t.name),n=a.isSelected(t.name));var l=a.getData();r.each(l,(function(e){var t=e.get("name");if("\n"!==t&&""!==t){var n=a.isSelected(t);i.hasOwnProperty(t)?i[t]=i[t]&&n:i[t]=n}}))})),"allSelect"===e||"inverseSelect"===e?{selected:i}:{name:t.name,selected:i}}n.registerAction("legendToggleSelect","legendselectchanged",r.curry(i,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",r.curry(i,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",r.curry(i,"inverseSelect")),n.registerAction("legendSelect","legendselected",r.curry(i,"select")),n.registerAction("legendUnSelect","legendunselected",r.curry(i,"unSelect"))},"5e97":function(e,t,a){"use strict";t.__esModule=!0;var n=a("7fae"),r=a("6d8b"),i=a("a15a"),o=a("2306"),l=a("7d6c"),s=a("7837"),c=a("7919"),u=a("f934"),d=a("b12f"),p=a("41ef"),g=r.curry,h=r.each,m=o.Group,f=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.newlineDisabled=!1,a}return n.__extends(t,e),t.prototype.init=function(){this.group.add(this._contentGroup=new m),this.group.add(this._selectorGroup=new m),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,t,a){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var i=e.get("align"),o=e.get("orient");i&&"auto"!==i||(i="right"===e.get("left")&&"vertical"===o?"right":"left");var l=e.get("selector",!0),s=e.get("selectorPosition",!0);!l||s&&"auto"!==s||(s="horizontal"===o?"end":"start"),this.renderInner(i,e,t,a,l,o,s);var d=e.getBoxLayoutParams(),p={width:a.getWidth(),height:a.getHeight()},g=e.get("padding"),h=u.getLayoutRect(d,p,g),m=this.layoutInner(e,i,h,n,l,s),f=u.getLayoutRect(r.defaults({width:m.width,height:m.height},d),p,g);this.group.x=f.x-m.x,this.group.y=f.y-m.y,this.group.markRedraw(),this.group.add(this._backgroundEl=c.makeBackground(m,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,t,a,n,i,o,l){var s=this.getContentGroup(),c=r.createHashMap(),u=t.get("selectedMode"),d=[];a.eachRawSeries((function(e){!e.get("legendHoverLink")&&d.push(e.id)})),h(t.getData(),(function(r,i){var o=r.get("name");if(!this.newlineDisabled&&(""===o||"\n"===o)){var l=new m;return l.newline=!0,void s.add(l)}var h=a.getSeriesByName(o)[0];if(!c.get(o)){if(h){var f=h.getData(),v=f.getVisual("style"),b=v[f.getVisual("drawType")]||v.fill,x=v.stroke,_=v.decal,D=f.getVisual("legendSymbol")||"roundRect",C=f.getVisual("symbol"),M=this._createItem(o,i,r,t,D,C,e,b,x,_,u);M.on("click",g(y,o,null,n,d)).on("mouseover",g(w,h.name,null,n,d)).on("mouseout",g(S,h.name,null,n,d)),c.set(o,!0)}else a.eachRawSeries((function(a){if(!c.get(o)&&a.legendVisualProvider){var l=a.legendVisualProvider;if(!l.containName(o))return;var s=l.indexOfName(o),h=l.getItemVisual(s,"style"),m=h.stroke,f=h.decal,v=h.fill,b=p.parse(h.fill);b&&0===b[3]&&(b[3]=.2,v=p.stringify(b,"rgba"));var x="roundRect",_=this._createItem(o,i,r,t,x,null,e,v,m,f,u);_.on("click",g(y,null,o,n,d)).on("mouseover",g(w,null,o,n,d)).on("mouseout",g(S,null,o,n,d)),c.set(o,!0)}}),this);0}}),this),i&&this._createSelector(i,t,n,o,l)},t.prototype._createSelector=function(e,t,a,n,r){var i=this.getSelectorGroup();h(e,(function(e){var n=e.type,r=new o.Text({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:"all"===n?"legendAllSelect":"legendInverseSelect"})}});i.add(r);var c=t.getModel("selectorLabel"),u=t.getModel(["emphasis","selectorLabel"]);s.setLabelStyle(r,{normal:c,emphasis:u},{defaultText:e.title}),l.enableHoverEmphasis(r)}))},t.prototype._createItem=function(e,t,a,n,c,u,d,p,g,h,f){var y=n.get("itemWidth"),b=n.get("itemHeight"),w=n.get("inactiveColor"),S=n.get("inactiveBorderColor"),x=n.get("symbolKeepAspect"),_=n.getModel("itemStyle"),D=n.isSelected(e),C=new m,M=a.getModel("textStyle"),k=a.get("icon"),T=a.getModel("tooltip"),A=T.parentModel;c=k||c;var N=i.createSymbol(c,0,0,y,b,D?p:w,null==x||x);if(C.add(v(N,c,_,g,S,h,D)),!k&&u&&(u!==c||"none"===u)){var P=.8*b;"none"===u&&(u="circle");var I=i.createSymbol(u,(y-P)/2,(b-P)/2,P,P,D?p:w,null==x||x);C.add(v(I,u,_,g,S,h,D))}var L="left"===d?y+5:-5,E=d,R=n.get("formatter"),O=e;"string"===typeof R&&R?O=R.replace("{name}",null!=e?e:""):"function"===typeof R&&(O=R(e)),C.add(new o.Text({style:s.createTextStyle(M,{text:O,x:L,y:b/2,fill:D?M.getTextColor():w,align:E,verticalAlign:"middle"})}));var z=new o.Rect({shape:C.getBoundingRect(),invisible:!0});if(T.get("show")){var $={componentType:"legend",legendIndex:n.componentIndex,name:e,$vars:["name"]};z.tooltip=r.extend({content:e,formatter:A.get("formatter",!0)||function(e){return e.name},formatterParams:$},T.option)}return C.add(z),C.eachChild((function(e){e.silent=!0})),z.silent=!f,this.getContentGroup().add(C),l.enableHoverEmphasis(C),C.__legendDataIndex=t,C},t.prototype.layoutInner=function(e,t,a,n,r,i){var o=this.getContentGroup(),l=this.getSelectorGroup();u.box(e.get("orient"),o,e.get("itemGap"),a.width,a.height);var s=o.getBoundingRect(),c=[-s.x,-s.y];if(l.markRedraw(),o.markRedraw(),r){u.box("horizontal",l,e.get("selectorItemGap",!0));var d=l.getBoundingRect(),p=[-d.x,-d.y],g=e.get("selectorButtonGap",!0),h=e.getOrient().index,m=0===h?"width":"height",f=0===h?"height":"width",v=0===h?"y":"x";"end"===i?p[h]+=s[m]+g:c[h]+=d[m]+g,p[1-h]+=s[f]/2-d[f]/2,l.x=p[0],l.y=p[1],o.x=c[0],o.y=c[1];var y={x:0,y:0};return y[m]=s[m]+g+d[m],y[f]=Math.max(s[f],d[f]),y[v]=Math.min(0,d[v]+p[1-h]),y}return o.x=c[0],o.y=c[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(d["default"]);function v(e,t,a,n,r,i,o){var l;return"line"!==t&&t.indexOf("empty")<0?(l=a.getItemStyle(),e.style.stroke=n,e.style.decal=i,o||(l.stroke=r)):l=a.getItemStyle(["borderWidth","borderColor"]),e.setStyle(l),e}function y(e,t,a,n){S(e,t,a,n),a.dispatchAction({type:"legendToggleSelect",name:null!=e?e:t}),w(e,t,a,n)}function b(e){var t,a=e.getZr().storage.getDisplayList(),n=0,r=a.length;while(n<r&&!(t=a[n].states.emphasis))n++;return t&&t.hoverLayer}function w(e,t,a,n){b(a)||a.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:n})}function S(e,t,a,n){b(a)||a.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:n})}d["default"].registerClass(f),t["default"]=f},7609:function(e,t,a){"use strict";var n={accountType:[{value:0,label:"现金"},{value:3,label:"发票"},{value:4,label:"汇款"},{value:5,label:"欠款"}],accountTypeEN:[{value:0,label:"CASH"},{value:3,label:"INVOICE"},{value:4,label:"REMITTANCE"},{value:5,label:"ARREARS"}],payWay:[{value:0,label:"发票"},{value:1,label:"汇款"}],payENWay:[{value:0,label:"INVOICE"},{value:1,label:"CASH"}],payStatus:[{value:0,label:"未支付"},{value:1,label:"已支付"},{value:2,label:"欠款"},{value:3,label:"已结欠"}],payENStatus:[{value:0,label:"PAID"},{value:1,label:"UNPAID"}],soldStatus:[{value:0,label:"即将到货"},{value:1,label:"现货"},{value:2,label:"售罄"}],settingItemValue:[{value:5,label:"特色/Special"},{value:0,label:"颜色/Color"},{value:1,label:"尺码/Size"},{value:2,label:"面料/Material"},{value:4,label:"配比/Ratio"},{value:6,label:"破洞/Destroyed"},{value:7,label:"面料(后台)/Material(back)"}],containerStatus:[{value:0,label:"未运输"},{value:1,label:"已发货"},{value:2,label:"已到达待确认"},{value:3,label:"已确认货物"}],transportType:[{value:0,label:"海运"},{value:2,label:"空运"},{value:3,label:"其他"}],verifyStatus:[{value:0,label:"未审核"},{value:1,label:"不通过"},{value:2,label:"审核通过"},{value:3,label:"通过欠款待发货"},{value:4,label:"仓库发货"},{value:5,label:"退审处理中"},{value:6,label:"退审处理中"}],verifyCheckStatus:[{value:0,label:"未审核"},{value:1,label:"已审核"},{value:2,label:"退审"}],userLevel:[{value:1,label:"销售人员"},{value:2,label:"管理员"}],customerLevel:[{value:1,label:"游客"},{value:2,label:"普通"},{value:3,label:"VIP"},{value:9,label:"隐藏"}],getDict:function(e,t){for(var a=0;a<n[t].length;a++){var r=n[t][a];if(r.value==e)return r.label}}};t["a"]=n},7919:function(e,t,a){"use strict";t.__esModule=!0;var n=a("f934"),r=a("eda2"),i=a("2306");function o(e,t,a){var r=t.getBoxLayoutParams(),i=t.get("padding"),o={width:a.getWidth(),height:a.getHeight()},l=n.getLayoutRect(r,o,i);n.box(t.get("orient"),e,t.get("itemGap"),l.width,l.height),n.positionElement(e,r,o,i)}function l(e,t){var a=r.normalizeCssArray(t.get("padding")),n=t.getItemStyle(["color","opacity"]);return n.fill=t.get("backgroundColor"),e=new i.Rect({shape:{x:e.x-a[3],y:e.y-a[0],width:e.width+a[1]+a[3],height:e.height+a[0]+a[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1}),e}t.layout=o,t.makeBackground=l},"84d5":function(e,t,a){"use strict";t.__esModule=!0;var n=a("7fae"),r=a("6d8b"),i=a("4319"),o=a("e0d3"),l=a("6cb7"),s=function(e,t){return"all"===t?{type:"all",title:e.getLocale(["legend","selector","all"])}:"inverse"===t?{type:"inverse",title:e.getLocale(["legend","selector","inverse"])}:void 0},c=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.layoutMode={type:"box",ignoreSize:!0},a}return n.__extends(t,e),t.prototype.init=function(e,t,a){this.mergeDefaultAndTheme(e,a),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(t,a){e.prototype.mergeOption.call(this,t,a),this._updateSelector(t)},t.prototype._updateSelector=function(e){var t=e.selector,a=this.ecModel;!0===t&&(t=e.selector=["all","inverse"]),r.isArray(t)&&r.each(t,(function(e,n){r.isString(e)&&(e={type:e}),t[n]=r.merge(e,s(a,e.type))}))},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,a=0;a<e.length;a++){var n=e[a].get("name");if(this.isSelected(n)){this.select(n),t=!0;break}}!t&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var t=[],a=[];e.eachRawSeries((function(n){var r,i=n.name;if(a.push(i),n.legendVisualProvider){var l=n.legendVisualProvider,s=l.getAllNames();e.isSeriesFiltered(n)||(a=a.concat(s)),s.length?t=t.concat(s):r=!0}else r=!0;r&&o.isNameSpecified(n)&&t.push(n.name)})),this._availableNames=a;var n=this.get("data")||t,l=r.map(n,(function(e){return"string"!==typeof e&&"number"!==typeof e||(e={name:e}),new i["default"](e,this,this.ecModel)}),this);this._data=l},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var t=this.option.selected,a=this.get("selectedMode");if("single"===a){var n=this._data;r.each(n,(function(e){t[e.get("name")]=!1}))}t[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,t=this.option.selected;r.each(e,(function(e){t[e.get("name",!0)]=!0}))},t.prototype.inverseSelect=function(){var e=this._data,t=this.option.selected;r.each(e,(function(e){var a=e.get("name",!0);t.hasOwnProperty(a)||(t[a]=!0),t[a]=!t[a]}))},t.prototype.isSelected=function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&r.indexOf(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(l["default"]);l["default"].registerClass(c),t["default"]=c},"903c":function(e,t,a){"use strict";function n(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries((function(e){for(var a=0;a<t.length;a++)if(!t[a].isSelected(e.name))return!1;return!0}))}t.__esModule=!0,t["default"]=n},9828:function(e,t,a){},"9dcd":function(e,t,a){var n;(function(r){"use strict";var i,o=20,l=1,s=1e6,c=1e6,u=-7,d=21,p=!1,g="[big.js] ",h=g+"Invalid ",m=h+"decimal places",f=h+"rounding mode",v=g+"Division by zero",y={},b=void 0,w=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function S(){function e(t){var a=this;if(!(a instanceof e))return t===b?S():new e(t);if(t instanceof e)a.s=t.s,a.e=t.e,a.c=t.c.slice();else{if("string"!==typeof t){if(!0===e.strict)throw TypeError(h+"number");t=0===t&&1/t<0?"-0":String(t)}x(a,t)}a.constructor=e}return e.prototype=y,e.DP=o,e.RM=l,e.NE=u,e.PE=d,e.strict=p,e}function x(e,t){var a,n,r;if(!w.test(t))throw Error(h+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(a=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(a<0&&(a=n),a+=+t.slice(n+1),t=t.substring(0,n)):a<0&&(a=t.length),r=t.length,n=0;n<r&&"0"==t.charAt(n);)++n;if(n==r)e.c=[e.e=0];else{for(;r>0&&"0"==t.charAt(--r););for(e.e=a-n-1,e.c=[],a=0;n<=r;)e.c[a++]=+t.charAt(n++)}return e}function _(e,t,a,n){var r=e.c;if(a===b&&(a=i.RM),0!==a&&1!==a&&2!==a&&3!==a)throw Error(f);if(t<1)n=3===a&&(n||!!r[0])||0===t&&(1===a&&r[0]>=5||2===a&&(r[0]>5||5===r[0]&&(n||r[1]!==b))),r.length=1,n?(e.e=e.e-t+1,r[0]=1):r[0]=e.e=0;else if(t<r.length){if(n=1===a&&r[t]>=5||2===a&&(r[t]>5||5===r[t]&&(n||r[t+1]!==b||1&r[t-1]))||3===a&&(n||!!r[0]),r.length=t--,n)for(;++r[t]>9;)r[t]=0,t--||(++e.e,r.unshift(1));for(t=r.length;!r[--t];)r.pop()}return e}function D(e,t,a){var n=e.e,r=e.c.join(""),i=r.length;if(t)r=r.charAt(0)+(i>1?"."+r.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)r="0"+r;r="0."+r}else if(n>0)if(++n>i)for(n-=i;n--;)r+="0";else n<i&&(r=r.slice(0,n)+"."+r.slice(n));else i>1&&(r=r.charAt(0)+"."+r.slice(1));return e.s<0&&a?"-"+r:r}y.abs=function(){var e=new this.constructor(this);return e.s=1,e},y.cmp=function(e){var t,a=this,n=a.c,r=(e=new a.constructor(e)).c,i=a.s,o=e.s,l=a.e,s=e.e;if(!n[0]||!r[0])return n[0]?i:r[0]?-o:0;if(i!=o)return i;if(t=i<0,l!=s)return l>s^t?1:-1;for(o=(l=n.length)<(s=r.length)?l:s,i=-1;++i<o;)if(n[i]!=r[i])return n[i]>r[i]^t?1:-1;return l==s?0:l>s^t?1:-1},y.div=function(e){var t=this,a=t.constructor,n=t.c,r=(e=new a(e)).c,i=t.s==e.s?1:-1,o=a.DP;if(o!==~~o||o<0||o>s)throw Error(m);if(!r[0])throw Error(v);if(!n[0])return e.s=i,e.c=[e.e=0],e;var l,c,u,d,p,g=r.slice(),h=l=r.length,f=n.length,y=n.slice(0,l),w=y.length,S=e,x=S.c=[],D=0,C=o+(S.e=t.e-e.e)+1;for(S.s=i,i=C<0?0:C,g.unshift(0);w++<l;)y.push(0);do{for(u=0;u<10;u++){if(l!=(w=y.length))d=l>w?1:-1;else for(p=-1,d=0;++p<l;)if(r[p]!=y[p]){d=r[p]>y[p]?1:-1;break}if(!(d<0))break;for(c=w==l?r:g;w;){if(y[--w]<c[w]){for(p=w;p&&!y[--p];)y[p]=9;--y[p],y[w]+=10}y[w]-=c[w]}for(;!y[0];)y.shift()}x[D++]=d?u:++u,y[0]&&d?y[w]=n[h]||0:y=[n[h]]}while((h++<f||y[0]!==b)&&i--);return x[0]||1==D||(x.shift(),S.e--,C--),D>C&&_(S,C,a.RM,y[0]!==b),S},y.eq=function(e){return 0===this.cmp(e)},y.gt=function(e){return this.cmp(e)>0},y.gte=function(e){return this.cmp(e)>-1},y.lt=function(e){return this.cmp(e)<0},y.lte=function(e){return this.cmp(e)<1},y.minus=y.sub=function(e){var t,a,n,r,i=this,o=i.constructor,l=i.s,s=(e=new o(e)).s;if(l!=s)return e.s=-s,i.plus(e);var c=i.c.slice(),u=i.e,d=e.c,p=e.e;if(!c[0]||!d[0])return d[0]?e.s=-s:c[0]?e=new o(i):e.s=1,e;if(l=u-p){for((r=l<0)?(l=-l,n=c):(p=u,n=d),n.reverse(),s=l;s--;)n.push(0);n.reverse()}else for(a=((r=c.length<d.length)?c:d).length,l=s=0;s<a;s++)if(c[s]!=d[s]){r=c[s]<d[s];break}if(r&&(n=c,c=d,d=n,e.s=-e.s),(s=(a=d.length)-(t=c.length))>0)for(;s--;)c[t++]=0;for(s=t;a>l;){if(c[--a]<d[a]){for(t=a;t&&!c[--t];)c[t]=9;--c[t],c[a]+=10}c[a]-=d[a]}for(;0===c[--s];)c.pop();for(;0===c[0];)c.shift(),--p;return c[0]||(e.s=1,c=[p=0]),e.c=c,e.e=p,e},y.mod=function(e){var t,a=this,n=a.constructor,r=a.s,i=(e=new n(e)).s;if(!e.c[0])throw Error(v);return a.s=e.s=1,t=1==e.cmp(a),a.s=r,e.s=i,t?new n(a):(r=n.DP,i=n.RM,n.DP=n.RM=0,a=a.div(e),n.DP=r,n.RM=i,this.minus(a.times(e)))},y.plus=y.add=function(e){var t,a,n,r=this,i=r.constructor;if(e=new i(e),r.s!=e.s)return e.s=-e.s,r.minus(e);var o=r.e,l=r.c,s=e.e,c=e.c;if(!l[0]||!c[0])return c[0]||(l[0]?e=new i(r):e.s=r.s),e;if(l=l.slice(),t=o-s){for(t>0?(s=o,n=c):(t=-t,n=l),n.reverse();t--;)n.push(0);n.reverse()}for(l.length-c.length<0&&(n=c,c=l,l=n),t=c.length,a=0;t;l[t]%=10)a=(l[--t]=l[t]+c[t]+a)/10|0;for(a&&(l.unshift(a),++s),t=l.length;0===l[--t];)l.pop();return e.c=l,e.e=s,e},y.pow=function(e){var t=this,a=new t.constructor("1"),n=a,r=e<0;if(e!==~~e||e<-c||e>c)throw Error(h+"exponent");for(r&&(e=-e);;){if(1&e&&(n=n.times(t)),e>>=1,!e)break;t=t.times(t)}return r?a.div(n):n},y.prec=function(e,t){if(e!==~~e||e<1||e>s)throw Error(h+"precision");return _(new this.constructor(this),e,t)},y.round=function(e,t){if(e===b)e=0;else if(e!==~~e||e<-s||e>s)throw Error(m);return _(new this.constructor(this),e+this.e+1,t)},y.sqrt=function(){var e,t,a,n=this,r=n.constructor,i=n.s,o=n.e,l=new r("0.5");if(!n.c[0])return new r(n);if(i<0)throw Error(g+"No square root");i=Math.sqrt(n+""),0===i||i===1/0?(t=n.c.join(""),t.length+o&1||(t+="0"),i=Math.sqrt(t),o=((o+1)/2|0)-(o<0||1&o),e=new r((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):e=new r(i+""),o=e.e+(r.DP+=4);do{a=e,e=l.times(a.plus(n.div(a)))}while(a.c.slice(0,o).join("")!==e.c.slice(0,o).join(""));return _(e,(r.DP-=4)+e.e+1,r.RM)},y.times=y.mul=function(e){var t,a=this,n=a.constructor,r=a.c,i=(e=new n(e)).c,o=r.length,l=i.length,s=a.e,c=e.e;if(e.s=a.s==e.s?1:-1,!r[0]||!i[0])return e.c=[e.e=0],e;for(e.e=s+c,o<l&&(t=r,r=i,i=t,c=o,o=l,l=c),t=new Array(c=o+l);c--;)t[c]=0;for(s=l;s--;){for(l=0,c=o+s;c>s;)l=t[c]+i[s]*r[c-s-1]+l,t[c--]=l%10,l=l/10|0;t[c]=l}for(l?++e.e:t.shift(),s=t.length;!t[--s];)t.pop();return e.c=t,e},y.toExponential=function(e,t){var a=this,n=a.c[0];if(e!==b){if(e!==~~e||e<0||e>s)throw Error(m);for(a=_(new a.constructor(a),++e,t);a.c.length<e;)a.c.push(0)}return D(a,!0,!!n)},y.toFixed=function(e,t){var a=this,n=a.c[0];if(e!==b){if(e!==~~e||e<0||e>s)throw Error(m);for(a=_(new a.constructor(a),e+a.e+1,t),e=e+a.e+1;a.c.length<e;)a.c.push(0)}return D(a,!1,!!n)},y.toJSON=y.toString=function(){var e=this,t=e.constructor;return D(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},y.toNumber=function(){var e=Number(D(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(g+"Imprecise conversion");return e},y.toPrecision=function(e,t){var a=this,n=a.constructor,r=a.c[0];if(e!==b){if(e!==~~e||e<1||e>s)throw Error(h+"precision");for(a=_(new n(a),e,t);a.c.length<e;)a.c.push(0)}return D(a,e<=a.e||a.e<=n.NE||a.e>=n.PE,!!r)},y.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(g+"valueOf disallowed");return D(e,e.e<=t.NE||e.e>=t.PE,!0)},i=S(),i["default"]=i.Big=i,n=function(){return i}.call(t,a,t,e),void 0===n||(e.exports=n)})()},b15e:function(e,t,a){},bb70:function(e,t,a){"use strict";t.__esModule=!0;var n=a("3842"),r=a("2306"),i=a("6d8b"),o=a("89b6"),l=a("2355"),s=Math.PI/180;function c(e,t,a,n,r,i,o,s,c,u){if(!(e.length<2)){for(var d=e.length,p=0;p<d;p++)if("outer"===e[p].position&&"labelLine"===e[p].labelAlignTo){var g=e[p].label.x-u;e[p].linePoints[1][0]+=g,e[p].label.x=u}l.shiftLayoutOnY(e,c,c+o)&&m(e)}function h(e){for(var i=e.rB,o=i*i,l=0;l<e.list.length;l++){var s=e.list[l],c=Math.abs(s.label.y-a),u=n+s.len,d=u*u,p=Math.sqrt((1-Math.abs(c*c/o))*d);s.label.x=t+(p+s.len2)*r}}function m(e){for(var i={list:[],maxY:0},o={list:[],maxY:0},l=0;l<e.length;l++)if("none"===e[l].labelAlignTo){var s=e[l],c=s.label.y>a?o:i,u=Math.abs(s.label.y-a);if(u>c.maxY){var d=s.label.x-t-s.len2*r,p=n+s.len,g=d<p?Math.sqrt(u*u/(1-d*d/p/p)):p;c.rB=g,c.maxY=u}c.list.push(s)}h(i),h(o)}}function u(e,t,a,n,r,i,o,l){for(var s=[],u=[],p=Number.MAX_VALUE,g=-Number.MAX_VALUE,h=0;h<e.length;h++){var m=e[h].label;d(e[h])||(m.x<t?(p=Math.min(p,m.x),s.push(e[h])):(g=Math.max(g,m.x),u.push(e[h])))}c(u,t,a,n,1,r,i,o,l,g),c(s,t,a,n,-1,r,i,o,l,p);for(h=0;h<e.length;h++){var f=e[h];m=f.label;if(!d(f)){var v=f.linePoints;if(v){var y="edge"===f.labelAlignTo,b=f.rect.width,w=void 0;w=y?m.x<t?v[2][0]-f.labelDistance-o-f.edgeDistance:o+r-f.edgeDistance-v[2][0]-f.labelDistance:m.x<t?m.x-o-f.bleedMargin:o+r-m.x-f.bleedMargin,w<f.rect.width&&(f.label.style.width=w,"edge"===f.labelAlignTo&&(b=w));var S=v[1][0]-v[2][0];y?m.x<t?v[2][0]=o+f.edgeDistance+b+f.labelDistance:v[2][0]=o+r-f.edgeDistance-b-f.labelDistance:(m.x<t?v[2][0]=m.x+f.labelDistance:v[2][0]=m.x-f.labelDistance,v[1][0]=v[2][0]+S),v[1][1]=v[2][1]=m.y}}}}function d(e){return"center"===e.position}function p(e){var t,a,l=e.getData(),c=[],d=!1,p=(e.get("minShowLabelAngle")||0)*s,g=l.getLayout("viewRect"),h=l.getLayout("r"),m=g.width,f=g.x,v=g.y,y=g.height;function b(e){e.ignore=!0}function w(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}l.each((function(e){var o=l.getItemGraphicEl(e),s=o.shape,u=o.getTextContent(),g=o.getTextGuideLine(),v=l.getItemModel(e),y=v.getModel("label"),S=y.get("position")||v.get(["emphasis","label","position"]),x=y.get("distanceToLabelLine"),_=y.get("alignTo"),D=n.parsePercent(y.get("edgeDistance"),m),C=y.get("bleedMargin"),M=v.getModel("labelLine"),k=M.get("length");k=n.parsePercent(k,m);var T=M.get("length2");if(T=n.parsePercent(T,m),Math.abs(s.endAngle-s.startAngle)<p)return i.each(u.states,b),void(u.ignore=!0);if(w(u)){var A,N,P,I,L=(s.startAngle+s.endAngle)/2,E=Math.cos(L),R=Math.sin(L);t=s.cx,a=s.cy;var O,z="inside"===S||"inner"===S;if("center"===S)A=s.cx,N=s.cy,I="center";else{var $=(z?(s.r+s.r0)/2*E:s.r*E)+t,V=(z?(s.r+s.r0)/2*R:s.r*R)+a;if(A=$+3*E,N=V+3*R,!z){var G=$+E*(k+h-s.r),Y=V+R*(k+h-s.r),B=G+(E<0?-1:1)*T,q=Y;A="edge"===_?E<0?f+D:f+m-D:B+(E<0?-x:x),N=q,P=[[$,V],[G,Y],[B,q]]}I=z?"center":"edge"===_?E>0?"right":"left":E>0?"left":"right"}var j=y.get("rotate");if(O="number"===typeof j?j*(Math.PI/180):j?E<0?-L+Math.PI:-L:0,d=!!O,u.x=A,u.y=N,u.rotation=O,u.setStyle({verticalAlign:"middle"}),z){u.setStyle({align:I});var F=u.states.select;F&&(F.x+=u.x,F.y+=u.y)}else{var W=u.getBoundingRect().clone();W.applyTransform(u.getComputedTransform());var H=(u.style.margin||0)+2.1;W.y-=H/2,W.height+=H,c.push({label:u,labelLine:g,position:S,len:k,len2:T,minTurnAngle:M.get("minTurnAngle"),maxSurfaceAngle:M.get("maxSurfaceAngle"),surfaceNormal:new r.Point(E,R),linePoints:P,textAlign:I,labelDistance:x,labelAlignTo:_,edgeDistance:D,bleedMargin:C,rect:W})}o.setTextConfig({inside:z})}})),!d&&e.get("avoidLabelOverlap")&&u(c,t,a,h,m,y,f,v);for(var S=0;S<c.length;S++){var x=c[S],_=x.label,D=x.labelLine,C=isNaN(_.x)||isNaN(_.y);if(_){_.setStyle({align:x.textAlign}),C&&(i.each(_.states,b),_.ignore=!0);var M=_.states.select;M&&(M.x+=_.x,M.y+=_.y)}if(D){var k=x.linePoints;C||!k?(i.each(D.states,b),D.ignore=!0):(o.limitTurnAngle(k,x.minTurnAngle),o.limitSurfaceAngle(k,x.surfaceNormal,x.maxSurfaceAngle),D.setShape({points:k}),_.__hostTarget.textGuideLineConfig={anchor:new r.Point(k[0][0],k[0][1])})}}}t["default"]=p},c037:function(e,t,a){"use strict";t.__esModule=!0;var n=a("3eba"),r=a("6d8b");a("f7c6"),a("1ab3");var i=a("f3bb"),o=a("292e"),l=a("d3f47");i.createLegacyDataSelectAction("pie",n.registerAction),n.registerLayout(r.curry(o["default"],"pie")),n.registerProcessor(l["default"]("pie"))},c4a3:function(e,t,a){"use strict";t.__esModule=!0;var n=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},e.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},e.prototype.getItemVisual=function(e,t){var a=this._getDataWithEncodedVisual();return a.getItemVisual(e,t)},e}();t["default"]=n},d28f:function(e,t,a){"use strict";t.__esModule=!0;var n=a("3eba");a("84d5"),a("4650"),a("5e97");var r=a("903c"),i=a("6cb7");n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,r["default"]),i["default"].registerSubTypeDefaulter("legend",(function(){return"plain"}))},d32f:function(e,t,a){"use strict";t.__esModule=!0;var n=a("6d8b"),r=a("e86a");function i(e,t){var a=e.get("borderRadius");return null==a?null:(n.isArray(a)||(a=[a,a]),{innerCornerRadius:r.parsePercent(a[0],t.r0),cornerRadius:r.parsePercent(a[1],t.r)})}t.getSectorCornerRadius=i},d3f47:function(e,t,a){"use strict";function n(e){return{seriesType:e,reset:function(e,t){var a=t.findComponents({mainType:"legend"});if(a&&a.length){var n=e.getData();n.filterSelf((function(e){for(var t=n.getName(e),r=0;r<a.length;r++)if(!a[r].isSelected(t))return!1;return!0}))}}}}t.__esModule=!0,t["default"]=n},d408:function(e,t,a){"use strict";var n=a("b15e"),r=a.n(n);r.a},e46b:function(e,t,a){"use strict";t.__esModule=!0;var n=a("b1d4"),r=a("6179"),i=a("6d8b");function o(e,t,a){t=i.isArray(t)&&{coordDimensions:t}||i.extend({},t);var o=e.getSource(),l=n["default"](o,t),s=new r["default"](l,e);return s.initData(o,a),s}t["default"]=o},f7c6:function(e,t,a){"use strict";t.__esModule=!0;var n=a("7fae"),r=a("e46b"),i=a("6d8b"),o=a("e0d3"),l=a("3842"),s=a("0f99"),c=a("c4a3"),u=a("4f85"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.useColorPaletteOnData=!0,t}return n.__extends(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new c["default"](i.bind(this.getData,this),i.bind(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return r["default"](this,{coordDimensions:["value"],encodeDefaulter:i.curry(s.makeSeriesEncodeForNameBased,this)})},t.prototype.getDataParams=function(t){var a=this.getData(),n=e.prototype.getDataParams.call(this,t),r=[];return a.each(a.mapDimension("value"),(function(e){r.push(e)})),n.percent=l.getPercentWithPrecision(r,t,a.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},t.prototype._defaultLabelLine=function(e){o.defaultEmphasis(e,"labelLine",["show"]);var t=e.labelLine,a=e.emphasis.labelLine;t.show=t.show&&e.label.show,a.show=a.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={zlevel:0,z:2,legendHoverLink:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(u["default"]);u["default"].registerClass(d),t["default"]=d}}]);