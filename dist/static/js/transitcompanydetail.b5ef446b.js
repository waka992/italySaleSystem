(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["transitcompanydetail"],{"315d":function(e,t,a){"use strict";var l=a("71de"),s=a.n(l);s.a},"71de":function(e,t,a){},7609:function(e,t,a){"use strict";var l={accountType:[{value:0,label:"现金"},{value:3,label:"发票"},{value:4,label:"汇款"},{value:5,label:"欠款"}],accountTypeEN:[{value:0,label:"CASH"},{value:3,label:"INVOICE"},{value:4,label:"REMITTANCE"},{value:5,label:"ARREARS"}],payWay:[{value:0,label:"发票"},{value:1,label:"汇款"}],payENWay:[{value:0,label:"INVOICE"},{value:1,label:"CASH"}],payStatus:[{value:0,label:"未支付"},{value:1,label:"已支付"},{value:2,label:"欠款"},{value:3,label:"已结欠"}],payENStatus:[{value:0,label:"PAID"},{value:1,label:"UNPAID"}],soldStatus:[{value:0,label:"即将到货"},{value:1,label:"现货"},{value:2,label:"售罄"}],settingItemValue:[{value:5,label:"特色/Special"},{value:0,label:"颜色/Color"},{value:1,label:"尺码/Size"},{value:2,label:"面料/Material"},{value:4,label:"配比/Ratio"}],containerStatus:[{value:0,label:"未运输"},{value:1,label:"已发货"},{value:2,label:"已到达待确认"},{value:3,label:"已确认货物"}],transportType:[{value:0,label:"海运"},{value:2,label:"空运"},{value:3,label:"其他"}],verifyStatus:[{value:0,label:"未审核"},{value:1,label:"不通过"},{value:2,label:"审核通过"},{value:3,label:"通过欠款待发货"},{value:4,label:"仓库发货"},{value:5,label:"退审处理中"},{value:6,label:"退审处理中"}],verifyCheckStatus:[{value:0,label:"未审核"},{value:1,label:"已审核"},{value:2,label:"退审"}],userLevel:[{value:1,label:"销售人员"},{value:2,label:"管理员"}],getDict:function(e,t){for(var a=0;a<l[t].length;a++){var s=l[t][a];if(s.value==e)return s.label}}};t["a"]=l},8880:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("采购")]),a("el-breadcrumb-item",{attrs:{to:{name:"transitcompany"}}},[e._v("运输公司")]),a("el-breadcrumb-item",[e._v("运输公司详情")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"detail-card"},[a("div",{staticClass:"title"},[e._v("运输公司")]),a("div",{staticClass:"handle-box"},[a("el-button",{attrs:{icon:"el-icon-edit",type:"primary",size:"mini"},on:{click:e.editReady}},[e._v("编辑")])],1),a("el-row",{staticClass:"detail-row"},[a("el-col",{attrs:{span:6}},[a("span",{staticClass:"detail-label"},[e._v("公司名称：")]),a("span",{staticClass:"detail-content"},[e._v(e._s(e.comInfo.transporterName))])]),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"detail-label"},[e._v("地址：")]),a("span",{staticClass:"detail-content"},[e._v(e._s(e.comInfo.transporterAddress))])]),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"detail-label"},[e._v("电话：")]),a("span",{staticClass:"detail-content"},[e._v(e._s(e.comInfo.transporterMobile))])]),a("el-col",{attrs:{span:6}},[a("span",{staticClass:"detail-label"},[e._v("其他联系方式：")]),a("span",{staticClass:"detail-content"},[e._v(e._s(e.comInfo.transporterOther))])])],1)],1),a("div",{staticClass:"record-card"},[a("div",{staticClass:"top"},[a("div",{staticClass:"title"},[e._v("查询")]),a("div",{staticClass:"search"},[a("el-select",{attrs:{size:"mini",placeholder:"请选择季度",clearable:""},model:{value:e.season,callback:function(t){e.season=t},expression:"season"}},e._l(e.seasonOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.configValue,value:e.configValue}})})),1),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",icon:"el-icon-search"},on:{click:e.getData}})],1),a("div",{staticClass:"handle-box"})]),a("div",{staticClass:"topic"},[e._v("运输记录")]),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,stripe:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{prop:"createTime",label:"货柜时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s(e.timeFormat(t.row.createTime))+"\n                    ")]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"到货日期",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s(e.timeFormat(t.row.finshTime))+"\n                    ")]}}])}),a("el-table-column",{attrs:{prop:"goodsTotal",label:"件数",align:"center"}}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s(e.getDict(t.row.contaninerType,"containerStatus"))+"\n                    ")]}}])}),a("el-table-column",{attrs:{prop:"cost",label:"运输金额",align:"center"}})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","current-page":e.page.no,"page-size":e.page.size,"page-sizes":[5,10,20],total:e.page.total,layout:"total, prev, pager, next, sizes, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.basePageChange}})],1),a("div",{staticClass:"operate"},[a("el-button",{attrs:{plain:""},on:{click:e.back}},[e._v("返回")]),a("el-button",{attrs:{type:"primary"}},[e._v("生成pdf")])],1)],1)]),a("el-dialog",{attrs:{"close-on-click-modal":!1,"show-close":!1,title:"编辑运输公司信息",visible:e.baseDialogVisible,width:"551px"},on:{"update:visible":function(t){e.baseDialogVisible=t}}},[a("el-popover",{attrs:{"popper-class":"del-confirm",placement:"bottom",width:"210"},model:{value:e.delVisible,callback:function(t){e.delVisible=t},expression:"delVisible"}},[a("div",{staticClass:"del-word"},[e._v("删除该供应商后，数据不可恢复，是否确认删除？")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{staticClass:"del-btn1",attrs:{size:"mini",type:"text"},on:{click:function(t){e.delVisible=!1}}},[e._v("取消")]),a("el-button",{staticClass:"del-btn2",attrs:{size:"mini"},on:{click:e.delConfirm}},[e._v("确认删除")])],1),a("el-button",{staticClass:"del-btn2 outer",attrs:{slot:"reference"},slot:"reference"},[e._v("删除")])],1),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"158px",rules:e.rules}},[a("el-form-item",{attrs:{label:"供应商名称",prop:"transporterName"}},[a("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入供应商名",maxlength:"15","show-word-limit":""},model:{value:e.form.transporterName,callback:function(t){e.$set(e.form,"transporterName",t)},expression:"form.transporterName"}})],1),a("el-form-item",{attrs:{label:"地址",prop:"transporterAddress"}},[a("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入供应商地址"},model:{value:e.form.transporterAddress,callback:function(t){e.$set(e.form,"transporterAddress",t)},expression:"form.transporterAddress"}})],1),a("el-form-item",{attrs:{label:"电话",prop:"transporterMobile"}},[a("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入供应商电话"},model:{value:e.form.transporterMobile,callback:function(t){e.$set(e.form,"transporterMobile",t)},expression:"form.transporterMobile"}})],1),a("el-form-item",{attrs:{label:"其他联系方式",prop:"transporterOther"}},[a("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入"},model:{value:e.form.transporterOther,callback:function(t){e.$set(e.form,"transporterOther",t)},expression:"form.transporterOther"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"curr-btn",attrs:{plain:""},on:{click:function(t){e.baseDialogVisible=!1}}},[e._v("取消")]),a("el-button",{staticClass:"curr-btn",attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,"show-close":!1,title:"新增支出/收入记录",visible:e.incomeDialogVisible,width:"551px"},on:{"update:visible":function(t){e.incomeDialogVisible=t}}},[a("el-form",{ref:"incomeform",attrs:{model:e.incomeform,"label-width":"178px",rules:e.incomerules}},[a("el-form-item",{attrs:{label:"客户名称",prop:"name"}},[a("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入客户名",maxlength:"15","show-word-limit":""},model:{value:e.incomeform.name,callback:function(t){e.$set(e.incomeform,"name",t)},expression:"incomeform.name"}})],1),a("el-form-item",{attrs:{label:"日期",prop:"date"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择今日日期时间"},model:{value:e.incomeform.date,callback:function(t){e.$set(e.incomeform,"date",t)},expression:"incomeform.date"}})],1),a("el-form-item",{attrs:{label:"收入/支出",prop:"income"}},[a("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"例如+1000"},model:{value:e.incomeform.income,callback:function(t){e.$set(e.incomeform,"income",t)},expression:"incomeform.income"}})],1),a("el-form-item",{attrs:{label:"资金状态",prop:"status"}},[a("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入客户资金状态"},model:{value:e.incomeform.status,callback:function(t){e.$set(e.incomeform,"status",t)},expression:"incomeform.status"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入备注内容"},model:{value:e.incomeform.remark,callback:function(t){e.$set(e.incomeform,"remark",t)},expression:"incomeform.remark"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"curr-btn",attrs:{plain:""},on:{click:function(t){e.incomeDialogVisible=!1}}},[e._v("取消")]),a("el-button",{staticClass:"curr-btn",attrs:{type:"primary"},on:{click:e.saveIncome}},[e._v("保存")])],1)],1)],1)},s=[],i=a("2ef0"),r=a("7609"),o=a("365c"),n={name:"TransitCompanyDetail",data:function(){return{delVisible:!1,baseDialogVisible:!1,incomeDialogVisible:!1,season:"",seasonOptions:[],page:{no:1,total:0,size:5},comInfo:{},tableData:[],form:{name:"",address:"",mobile:"",otherContact:""},incomeform:{name:"",date:"",income:"",status:"",remark:""},rules:{transporterName:[{required:!0,message:"请输入供应商名",trigger:"change"}],transporterAddress:[{required:!0,message:"请输入供应商地址",trigger:"change"}],transporterMobile:[{required:!0,message:"请输入联系电话",trigger:"change"}]},incomerules:{name:[{required:!0,message:"请输入客户名",trigger:"change"}],date:[{required:!0,message:"请输入日期",trigger:"change"}],income:[{required:!0,message:"请输入",trigger:"change"}]}}},created:function(){this.getDict=r["a"].getDict;var e=this.$route.params.data;this.comInfo={id:e.id,transporterName:e.transporterName,transporterAddress:e.transporterAddress,transporterMobile:e.transporterMobile,transporterOther:e.transporterOther},this.getData(),this.getSeason()},methods:{getDetail:function(){this.form={}},editReady:function(){var e=this;this.form=Object(i["cloneDeep"])(this.comInfo),this.baseDialogVisible=!0,this.$nextTick((function(){e.$refs.form.clearValidate()}))},delConfirm:function(){console.log(this.$route.params),this.delVisible=!1,this.baseDialogVisible=!1,this.$router.push({name:"transitcompany"})},getData:function(){var e=this,t={pageSize:this.page.size,page:this.page.no,transpoterId:this.comInfo.id,quarter:this.season};Object(o["J"])(t).then((function(t){e.tableData=t.records,e.page.total=t.total,e.page.no=t.current}))},save:function(){var e=this,t=Object(i["cloneDeep"])(this.form);this.$refs.form.validate((function(a){a&&Object(o["e"])(t).then((function(t){t&&(e.$message.success({message:"修改成功"}),e.baseDialogVisible=!1,e.comInfo=Object(i["cloneDeep"])(e.form))}))}))},addIncomeReady:function(){var e=this;this.incomeform={name:"",date:"",income:"",status:"",remark:""},this.incomeDialogVisible=!0,this.$nextTick((function(){e.$refs.incomeform.clearValidate()}))},saveIncome:function(){Object(i["cloneDeep"])(this.incomeform);this.$refs.incomeform.validate((function(e){console.log(e)}))},basePageChange:function(e){this.$set(this.page,"no",e),this.getData()},handleSizeChange:function(e){this.$set(this.page,"size",e),this.$set(this.page,"no",1),this.getData()},timeFormat:function(e){return e?this.$moment(e).format("YYYY-MM-DD"):""},back:function(){this.$router.push({name:"transitcompany"})},getSeason:function(){var e=this,t={status:"quarter"};Object(o["X"])(t).then((function(t){var a=t instanceof Array?t:[];e.seasonOptions=a||[],console.log(e.seasonOptions)}))}}},c=n,m=(a("315d"),a("2877")),u=Object(m["a"])(c,l,s,!1,null,"05c913ae",null);t["default"]=u.exports}}]);