(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["containerinfo"],{7609:function(e,t,a){"use strict";var l={accountType:[{value:0,label:"现金"},{value:3,label:"发票"},{value:4,label:"汇款"},{value:5,label:"欠款"}],accountTypeEN:[{value:0,label:"CASH"},{value:3,label:"INVOICE"},{value:4,label:"REMITTANCE"},{value:5,label:"ARREARS"}],payWay:[{value:0,label:"发票"},{value:1,label:"汇款"}],payENWay:[{value:0,label:"INVOICE"},{value:1,label:"CASH"}],payStatus:[{value:0,label:"未支付"},{value:1,label:"已支付"},{value:2,label:"欠款"},{value:3,label:"已结欠"}],payENStatus:[{value:0,label:"PAID"},{value:1,label:"UNPAID"}],soldStatus:[{value:0,label:"即将到货"},{value:1,label:"现货"},{value:2,label:"售罄"}],settingItemValue:[{value:5,label:"特色/Special"},{value:0,label:"颜色/Color"},{value:1,label:"尺码/Size"},{value:2,label:"面料/Material"},{value:4,label:"配比/Ratio"}],containerStatus:[{value:0,label:"未运输"},{value:1,label:"已发货"},{value:2,label:"已到达待确认"},{value:3,label:"已确认货物"}],transportType:[{value:0,label:"海运"},{value:2,label:"空运"},{value:3,label:"其他"}],verifyStatus:[{value:0,label:"未审核"},{value:1,label:"不通过"},{value:2,label:"审核通过"},{value:3,label:"通过欠款待发货"},{value:4,label:"仓库发货"},{value:5,label:"退审处理中"},{value:6,label:"退审处理中"}],verifyCheckStatus:[{value:0,label:"未审核"},{value:1,label:"已审核"},{value:2,label:"退审"}],userLevel:[{value:1,label:"销售人员"},{value:2,label:"管理员"}],getDict:function(e,t){for(var a=0;a<l[t].length;a++){var s=l[t][a];if(s.value==e)return s.label}}};t["a"]=l},a7c4:function(e,t,a){"use strict";var l=a("c3ce"),s=a.n(l);s.a},b890:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("采购")]),a("el-breadcrumb-item",[e._v("货柜信息")])],1)],1),a("div",{staticClass:"box"},[a("div",{staticClass:"handle-box"},[a("el-input",{staticClass:"name-search",attrs:{size:"mini","suffix-icon":"el-icon-search",placeholder:"输入货柜名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("div",{staticClass:"status"},[a("span",{staticClass:"label"},[e._v("货柜状态")]),a("el-select",{attrs:{size:"mini",placeholder:"请选择",clearable:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.dict.containerStatus,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{staticClass:"status"},[a("span",{staticClass:"label"},[e._v("季度")]),a("el-select",{attrs:{size:"mini",placeholder:"请选择",clearable:""},model:{value:e.season,callback:function(t){e.season=t},expression:"season"}},e._l(e.seasonOptions,(function(e){return a("el-option",{key:e.configValue,attrs:{label:e.configValue,value:e.configValue}})})),1)],1),a("el-button",{attrs:{icon:"el-icon-search"},on:{click:e.getData}}),a("el-button",{staticClass:"new-btn",attrs:{type:"primary"},on:{click:e.addReady}},[e._v("+新建货柜")])],1),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,stripe:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{prop:"container",label:"货柜名称",align:"center"}}),a("el-table-column",{attrs:{prop:"startTime",label:"出货时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.timeFormat(t.row.startTime))+"\n                ")]}}])}),a("el-table-column",{attrs:{prop:"contaninerType",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.getDict(t.row.contaninerType,"containerStatus"))+"\n                ")]}}])}),a("el-table-column",{attrs:{prop:"transpoterName",label:"运输方",align:"center"}}),a("el-table-column",{attrs:{prop:"caseNum",label:"箱数",align:"center"}}),a("el-table-column",{attrs:{label:"操作",width:"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.checkDetail(t.row)}}},[e._v("详情")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==t.row.contaninerType,expression:"scope.row.contaninerType == 0"}],attrs:{type:"text"},on:{click:function(a){return e.sendContainer(t.row)}}},[e._v("发货")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","current-page":e.page.no,"page-size":e.page.size,"page-sizes":[5,10,20],total:e.page.total,layout:"total, prev, pager, next, sizes, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.basePageChange}})],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,"show-close":!1,title:"新建货柜",visible:e.baseDialogVisible,width:"551px"},on:{"update:visible":function(t){e.baseDialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"158px",rules:e.rules}},[a("el-form-item",{attrs:{label:"货柜名称",prop:"container"}},[a("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入货柜名",maxlength:"15","show-word-limit":""},model:{value:e.form.container,callback:function(t){e.$set(e.form,"container",t)},expression:"form.container"}})],1),a("el-form-item",{attrs:{label:"季度",prop:"quarter"}},[a("el-select",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请选择"},model:{value:e.form.quarter,callback:function(t){e.$set(e.form,"quarter",t)},expression:"form.quarter"}},e._l(e.seasonOptions,(function(e){return a("el-option",{key:e.configValue,attrs:{label:e.configValue,value:e.configValue}})})),1)],1),a("el-form-item",{attrs:{label:"运输商",prop:"transpoterName"}},[a("el-select",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请选择"},model:{value:e.form.transpoterName,callback:function(t){e.$set(e.form,"transpoterName",t)},expression:"form.transpoterName"}},e._l(e.transporterOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.transporterName,value:e.transporterName}})})),1)],1),a("el-form-item",{attrs:{label:"货柜类型",prop:"transpoterType"}},[a("el-select",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请选择"},model:{value:e.form.transpoterType,callback:function(t){e.$set(e.form,"transpoterType",t)},expression:"form.transpoterType"}},e._l(e.dict.transportType,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"货柜费用",prop:"cost"}},[a("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入"},model:{value:e.form.cost,callback:function(t){e.$set(e.form,"cost",t)},expression:"form.cost"}})],1),a("el-form-item",{attrs:{label:"出货日期",prop:"startTime"}},[a("el-date-picker",{staticClass:"form-input",attrs:{type:"date",placeholder:"请选择日期"},model:{value:e.form.startTime,callback:function(t){e.$set(e.form,"startTime",t)},expression:"form.startTime"}})],1),a("el-form-item",{attrs:{label:"预计到货日期",prop:"estimate"}},[a("el-date-picker",{staticClass:"form-input",attrs:{type:"date",placeholder:"请选择日期"},model:{value:e.form.estimate,callback:function(t){e.$set(e.form,"estimate",t)},expression:"form.estimate"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"curr-btn",attrs:{plain:""},on:{click:function(t){e.baseDialogVisible=!1}}},[e._v("取消")]),a("el-button",{staticClass:"curr-btn",attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)],1)],1)},s=[],r=(a("7f7f"),a("2ef0")),n=(a("4328"),a("365c")),i=a("7609"),o={name:"ContainerInfo",data:function(){return{baseDialogVisible:!1,type:0,date:"",name:"",season:"",statusOptions:[{label:"全部",value:0},{label:"已到货",value:1},{label:"即将到货",value:2}],seasonOptions:[],transporterOptions:[],transportType:[],page:{no:1,total:0,size:20},tableData:[],form:{},rules:{container:[{required:!0,message:"请输入",trigger:"change"}],quarter:[{required:!0,message:"请选择",trigger:"change"}],transpoterName:[{required:!0,message:"请选择",trigger:"change"}]}}},created:function(){this.getDict=i["a"].getDict,this.dict=i["a"],this.getData(),this.getSeason(),this.getTransporter()},methods:{resetData:function(){this.form={container:"",quarter:"",transpoterName:"",transpoterType:"",cost:"",estimate:"",startTime:""}},addReady:function(){var e=this;this.resetData(),this.baseDialogVisible=!0,this.$nextTick((function(){e.$refs.form.clearValidate()}))},getData:function(){var e=this,t={container:this.name,quarter:this.season,pageSize:this.page.size,page:this.page.no,contaninerType:this.type};Object(n["N"])(t).then((function(t){e.tableData=t.records,e.page.total=t.total,e.page.no=t.current}))},getTransporter:function(){var e=this;Object(n["H"])({}).then((function(t){e.transporterOptions=t}))},save:function(){for(var e=this,t=Object(r["cloneDeep"])(this.form),a=0;a<this.transporterOptions.length;a++){var l=this.transporterOptions[a];if(t.transpoterName===l.transporterName){t.transpoterId=l.id;break}}this.$refs.form.validate((function(a){a&&Object(n["e"])(t).then((function(t){t&&(e.$message.success({message:"添加成功"}),e.baseDialogVisible=!1,e.getData())}))}))},checkDetail:function(e){this.$router.push({name:"containerinfodetail",params:{data:e}})},sendContainer:function(e){var t=this;Object(n["rb"])({id:e.id}).then((function(e){t.$message.success("操作成功"),t.getData()}))},basePageChange:function(e){this.$set(this.page,"no",e),this.getData()},handleSizeChange:function(e){this.$set(this.page,"size",e),this.$set(this.page,"no",1),this.getData()},timeFormat:function(e){return this.$moment(e).format("YYYY-MM-DD")},getSeason:function(){var e=this,t={status:"quarter"};Object(n["db"])(t).then((function(t){var a=t instanceof Array?t:[];e.seasonOptions=a||[]}))}}},c=o,u=(a("a7c4"),a("2877")),p=Object(u["a"])(c,l,s,!1,null,"dc7354de",null);t["default"]=p.exports},c3ce:function(e,t,a){}}]);