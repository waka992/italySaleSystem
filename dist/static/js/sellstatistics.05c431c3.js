(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["sellstatistics"],{3198:function(t,e,a){"use strict";var l=a("edec"),i=a.n(l);i.a},"519d":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[t._v("销售")]),a("el-breadcrumb-item",[t._v("销售统计")])],1)],1),a("div",{staticClass:"top-box"},[a("div",{staticClass:"date-select"},[a("date-selector",{on:{change:t.getSellDate}})],1),a("div",[a("div",{staticClass:"top-switch"},t._l(t.topTab,(function(e,l){return a("div",{key:e.name,staticClass:"tab",class:t.topSelected==l?"active":"",on:{click:function(e){return t.topTapClick(l)}}},[t._v(t._s(e.name))])})),0),a("div",{staticClass:"date-switch"},t._l(t.dateTab,(function(e,l){return a("div",{key:e.name,staticClass:"tab",class:t.dateSelected==l?"active":"",on:{click:function(e){return t.dateTapClick(l)}}},[t._v(t._s(e.name))])})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:"attribute"==t.topTar,expression:"topTar == 'attribute'"}],staticClass:"attribute-select-area"},[a("span",[t._v("特色/Special")]),a("span",[a("el-select",{staticClass:"attr-select",attrs:{placeholder:"请选择",clearable:""},on:{change:t.getAttributeData},model:{value:t.attrForm.special,callback:function(e){t.$set(t.attrForm,"special",e)},expression:"attrForm.special"}},t._l(t.itemOptions.special,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("span",[t._v("颜色/Color")]),a("span",[a("el-select",{staticClass:"attr-select",attrs:{placeholder:"请选择",clearable:""},on:{change:t.getAttributeData},model:{value:t.attrForm.color,callback:function(e){t.$set(t.attrForm,"color",e)},expression:"attrForm.color"}},t._l(t.itemOptions.color,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("span",[t._v("尺码/Size")]),a("span",[a("el-select",{staticClass:"attr-select",attrs:{placeholder:"请选择",clearable:""},on:{change:t.getAttributeData},model:{value:t.attrForm.size,callback:function(e){t.$set(t.attrForm,"size",e)},expression:"attrForm.size"}},t._l(t.itemOptions.size,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("span",[t._v("面料/Material")]),a("span",[a("el-select",{staticClass:"attr-select",attrs:{placeholder:"请选择",clearable:""},on:{change:t.getAttributeData},model:{value:t.attrForm.material,callback:function(e){t.$set(t.attrForm,"material",e)},expression:"attrForm.material"}},t._l(t.itemOptions.material,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)]),a("div",{staticClass:"charts"},[a("line-chart",{ref:"lineChart",attrs:{height:"400px",width:"100%"}})],1),a("div",{staticClass:"data-list"},t._l(t.listData,(function(e,l){return a("span",{key:l,staticStyle:{"margin-right":"36px"}},[t._v("\n                    "+t._s("single"==t.topTar?e.specification:"customer"==t.topTar?e.customer_name:"attribute"==t.topTar?e.goodsName:"")+"-"+t._s(e.CASENUM)+"箱-金额："+t._s(e.PRICE)+"\n                ")])})),0)])])])},i=[],s=(a("2ef0"),a("d0c2")),r=a("33e7"),o=a("365c"),c=(a("7609"),{name:"SellStatistics",components:{DateSelector:s["a"],LineChart:r["a"]},data:function(){return{listData:[],date:"",topTar:"single",baseDialogVisible:!1,status:0,topSelected:0,dateSelected:0,topTab:[{name:"单品"},{name:"客户"},{name:"属性"}],dateTab:[{name:"周"},{name:"月"},{name:"季"},{name:"年"}],attrForm:{special:"",color:"",size:"",material:""},itemOptions:{special:[],color:[],size:[],material:[]}}},created:function(){this.getSingleData(),this.getAttributeOption()},methods:{getSellDate:function(t){this.date=t,this.topTapClick(this.topSelected)},resetChart:function(){this.listData=[],this.setData([])},getSingleData:function(){var t=this,e={STime:this.date||this.$moment().format("YYYY-MM-DD"),type:this.dateSelected};Object(o["bb"])(e).then((function(e){for(var a=e,l=0;l<a.length;l++){var i=a[l];a[l].x=i.specification,a[l].y=i.PRICE,a[l].caseNum=i.CASENUM}t.listData=a,t.setData(a)}))},getCustomerData:function(){var t=this,e={STime:this.date||this.$moment().format("YYYY-MM-DD"),type:this.dateSelected};Object(o["u"])(e).then((function(e){for(var a=e,l=0;l<a.length;l++){var i=a[l];a[l].x=i.customer_name,a[l].y=i.PRICE,a[l].caseNum=i.CASENUM}t.listData=a,t.setData(a)}))},getAttributeData:function(){var t=this;if(this.attrForm.special||this.attrForm.color||this.attrForm.material||this.attrForm.size){var e={stime:this.date||this.$moment().format("YYYY-MM-DD"),type:this.dateSelected,characteristic:this.attrForm.special?[this.attrForm.special]:[],color:this.attrForm.color?[this.attrForm.color]:[],component:this.attrForm.material?[this.attrForm.material]:[],sizes:this.attrForm.size?[this.attrForm.size]:[]};Object(o["k"])(e).then((function(e){for(var a=e,l=0;l<a.length;l++){var i=a[l];a[l].x=i.goodsName,a[l].y=i.PRICE,a[l].caseNum=i.CASENUM}t.listData=a,t.setData(a)}))}},setData:function(t){for(var e=[],a=[],l=0;l<t.length;l++){var i=t[l];e.push(i.x),a.push({value:i.y,amount:i.caseNum})}var s={xAxis:{data:e,axisLabel:{fontSize:14}},yAxis:{axisLabel:{fontSize:14}},series:[{data:a}]};"single"==this.topTar&&(s.series[0].tooltip={formatter:function(t){return"金额:"+t.data.value+"&nbsp箱数"+t.data.amount}}),this.$refs.lineChart.setData(s)},topTapClick:function(t){this.topSelected=t,0==t&&(this.topTar="single",this.getSingleData()),1==t&&(this.topTar="customer",this.getCustomerData()),2==t&&(this.topTar="attribute",this.resetChart(),this.getAttributeData())},getAttributeOption:function(){var t=this;this.itemOptions={special:[],color:[],size:[],material:[]},Object(o["E"])().then((function(e){for(var a in e)if(Object.hasOwnProperty.call(e,a))for(var l=e[a],i=0;i<l.length;i++){var s=l[i],r="";switch(a){case"0":r="color";break;case"1":r="size";break;case"2":r="material";break;case"5":r="special";break}if(!r)break;t.itemOptions[r].push({label:s.arrtibute,value:s.arrtibute})}}))},dateTapClick:function(t){this.dateSelected=t,this.topTapClick(this.topSelected)}}}),n=c,u=(a("3198"),a("2877")),v=Object(u["a"])(n,l,i,!1,null,"22cc8123",null);e["default"]=v.exports},7609:function(t,e,a){"use strict";var l={accountType:[{value:0,label:"现金"},{value:3,label:"发票"},{value:4,label:"汇款"},{value:5,label:"欠款"}],accountTypeEN:[{value:0,label:"CASH"},{value:3,label:"INVOICE"},{value:4,label:"REMITTANCE"},{value:5,label:"ARREARS"}],payWay:[{value:0,label:"发票"},{value:1,label:"汇款"}],payENWay:[{value:0,label:"INVOICE"},{value:1,label:"CASH"}],payStatus:[{value:0,label:"未支付"},{value:1,label:"已支付"},{value:2,label:"欠款"},{value:3,label:"已结欠"}],payENStatus:[{value:0,label:"PAID"},{value:1,label:"UNPAID"}],soldStatus:[{value:0,label:"即将到货"},{value:1,label:"现货"},{value:2,label:"售罄"}],settingItemValue:[{value:5,label:"特色/Special"},{value:0,label:"颜色/Color"},{value:1,label:"尺码/Size"},{value:2,label:"面料/Material"},{value:4,label:"配比/Ratio"}],containerStatus:[{value:0,label:"未运输"},{value:1,label:"已发货"},{value:2,label:"已到达待确认"},{value:3,label:"已确认货物"}],transportType:[{value:0,label:"海运"},{value:2,label:"空运"},{value:3,label:"其他"}],verifyStatus:[{value:0,label:"未审核"},{value:1,label:"不通过"},{value:2,label:"审核通过"},{value:3,label:"通过欠款待发货"},{value:4,label:"仓库发货"},{value:5,label:"退审处理中"},{value:6,label:"退审处理中"}],verifyCheckStatus:[{value:0,label:"未审核"},{value:1,label:"已审核"},{value:2,label:"退审"}],userLevel:[{value:1,label:"销售人员"},{value:2,label:"管理员"}],getDict:function(t,e){for(var a=0;a<l[e].length;a++){var i=l[e][a];if(i.value==t)return i.label}}};e["a"]=l},edec:function(t,e,a){}}]);