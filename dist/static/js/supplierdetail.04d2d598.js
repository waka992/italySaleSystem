(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["supplierdetail"],{"81f1":function(e,t,s){},b25b:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"crumbs"},[s("el-breadcrumb",{attrs:{separator:"/"}},[s("el-breadcrumb-item",[e._v("采购")]),s("el-breadcrumb-item",{attrs:{to:{name:"supplier"}}},[e._v("供应商")]),s("el-breadcrumb-item",[e._v("供应商详情")])],1)],1),s("div",{staticClass:"box"},[s("div",{staticClass:"detail-card"},[s("div",{staticClass:"title"},[e._v("供应商详情")]),s("div",{staticClass:"handle-box"},[s("el-button",{attrs:{icon:"el-icon-edit",type:"primary",size:"mini"},on:{click:e.editReady}},[e._v("编辑")])],1),s("el-row",{staticClass:"detail-row"},[s("el-col",{attrs:{span:6}},[s("span",{staticClass:"detail-label"},[e._v("名称：")]),s("span",{staticClass:"detail-content"},[e._v(e._s(e.comInfo.supplierName))])]),s("el-col",{attrs:{span:6}},[s("span",{staticClass:"detail-label"},[e._v("地址：")]),s("span",{staticClass:"detail-content"},[e._v(e._s(e.comInfo.supplierAddress))])]),s("el-col",{attrs:{span:6}},[s("span",{staticClass:"detail-label"},[e._v("电话：")]),s("span",{staticClass:"detail-content"},[e._v(e._s(e.comInfo.supplierMobile))])]),s("el-col",{attrs:{span:6}},[s("span",{staticClass:"detail-label"},[e._v("其他联系方式：")]),s("span",{staticClass:"detail-content"},[e._v(e._s(e.comInfo.supplierOther))])])],1),s("el-row",{staticClass:"detail-row"},[s("el-col",{attrs:{span:6}},[s("span",{staticClass:"detail-label"},[e._v("备忘：")]),s("span",{staticClass:"detail-content"},[e._v(e._s(e.comInfo.memorandum))])]),s("el-col",{attrs:{span:6}},[s("span",{staticClass:"detail-label"},[e._v("支付款详情：")]),s("span",{staticClass:"detail-content"},[e._v(e._s(e.comInfo.payDetail))])]),s("el-col",{attrs:{span:6}},[s("span",{staticClass:"detail-label"},[e._v("作用：")]),s("span",{staticClass:"detail-content"},[e._v(e._s(e.comInfo.effect))])])],1)],1),s("div",{staticClass:"record-card"},[s("div",{staticClass:"top"},[s("div",{staticClass:"title"},[e._v("查询")]),s("div",{staticClass:"search"},[s("el-input",{attrs:{size:"mini","suffix-icon":"el-icon-search",placeholder:"输入关键词"}})],1),s("div",{staticClass:"handle-box"})]),s("div",{staticClass:"topic"},[e._v("供应商合作记录")]),s("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,stripe:"","header-cell-class-name":"table-header"}},[s("el-table-column",{attrs:{prop:"season",label:"季度",align:"center"}}),s("el-table-column",{attrs:{prop:"boxs",label:"总箱数",align:"center"}}),s("el-table-column",{attrs:{prop:"pics",label:"总件数",align:"center"}}),s("el-table-column",{attrs:{prop:"value",label:"合作金额",align:"center"}}),s("el-table-column",{attrs:{prop:"stock",label:"库存余数",align:"center"}})],1),s("div",{staticClass:"operate"},[s("el-button",{attrs:{plain:""},on:{click:e.back}},[e._v("返回")]),s("el-button",{attrs:{type:"primary"}},[e._v("生成pdf")])],1)],1)]),s("el-dialog",{attrs:{"close-on-click-modal":!1,"show-close":!1,title:"编辑供应商信息",visible:e.baseDialogVisible,width:"551px"},on:{"update:visible":function(t){e.baseDialogVisible=t}}},[s("el-popover",{attrs:{"popper-class":"del-confirm",placement:"bottom",width:"210"},model:{value:e.delVisible,callback:function(t){e.delVisible=t},expression:"delVisible"}},[s("div",{staticClass:"del-word"},[e._v("删除该供应商后，数据不可恢复，是否确认删除？")]),s("div",{staticStyle:{"text-align":"right",margin:"0"}},[s("el-button",{staticClass:"del-btn1",attrs:{size:"mini",type:"text"},on:{click:function(t){e.delVisible=!1}}},[e._v("取消")]),s("el-button",{staticClass:"del-btn2",attrs:{size:"mini"},on:{click:e.delConfirm}},[e._v("确认删除")])],1),s("el-button",{staticClass:"del-btn2 outer",attrs:{slot:"reference"},slot:"reference"},[e._v("删除")])],1),s("el-form",{ref:"form",attrs:{model:e.form,"label-width":"158px",rules:e.rules}},[s("el-form-item",{attrs:{label:"供应商名称",prop:"supplierName"}},[s("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入供应商名",maxlength:"15","show-word-limit":""},model:{value:e.form.supplierName,callback:function(t){e.$set(e.form,"supplierName",t)},expression:"form.supplierName"}})],1),s("el-form-item",{attrs:{label:"地址",prop:"supplierAddress"}},[s("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入供应商地址"},model:{value:e.form.supplierAddress,callback:function(t){e.$set(e.form,"supplierAddress",t)},expression:"form.supplierAddress"}})],1),s("el-form-item",{attrs:{label:"电话",prop:"supplierMobile"}},[s("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入供应商电话"},model:{value:e.form.supplierMobile,callback:function(t){e.$set(e.form,"supplierMobile",t)},expression:"form.supplierMobile"}})],1),s("el-form-item",{attrs:{label:"其他联系方式",prop:"supplierOther"}},[s("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入"},model:{value:e.form.supplierOther,callback:function(t){e.$set(e.form,"supplierOther",t)},expression:"form.supplierOther"}})],1),s("el-form-item",{attrs:{label:"备忘录",prop:"memorandum"}},[s("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入"},model:{value:e.form.memorandum,callback:function(t){e.$set(e.form,"memorandum",t)},expression:"form.memorandum"}})],1),s("el-form-item",{attrs:{label:"支付款详情",prop:"payDetail"}},[s("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"例如-1000"},model:{value:e.form.payDetail,callback:function(t){e.$set(e.form,"payDetail",t)},expression:"form.payDetail"}})],1),s("el-form-item",{attrs:{label:"作用",prop:"effect"}},[s("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入"},model:{value:e.form.effect,callback:function(t){e.$set(e.form,"effect",t)},expression:"form.effect"}})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"curr-btn",attrs:{plain:""},on:{click:function(t){e.baseDialogVisible=!1}}},[e._v("取消")]),s("el-button",{staticClass:"curr-btn",attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)],1),s("el-dialog",{attrs:{"close-on-click-modal":!1,"show-close":!1,title:"新增支出/收入记录",visible:e.incomeDialogVisible,width:"551px"},on:{"update:visible":function(t){e.incomeDialogVisible=t}}},[s("el-form",{ref:"incomeform",attrs:{model:e.incomeform,"label-width":"178px",rules:e.incomerules}},[s("el-form-item",{attrs:{label:"客户名称",prop:"name"}},[s("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入客户名",maxlength:"15","show-word-limit":""},model:{value:e.incomeform.name,callback:function(t){e.$set(e.incomeform,"name",t)},expression:"incomeform.name"}})],1),s("el-form-item",{attrs:{label:"日期",prop:"date"}},[s("el-date-picker",{attrs:{type:"datetime",placeholder:"选择今日日期时间"},model:{value:e.incomeform.date,callback:function(t){e.$set(e.incomeform,"date",t)},expression:"incomeform.date"}})],1),s("el-form-item",{attrs:{label:"收入/支出",prop:"income"}},[s("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"例如+1000"},model:{value:e.incomeform.income,callback:function(t){e.$set(e.incomeform,"income",t)},expression:"incomeform.income"}})],1),s("el-form-item",{attrs:{label:"资金状态",prop:"status"}},[s("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入客户资金状态"},model:{value:e.incomeform.status,callback:function(t){e.$set(e.incomeform,"status",t)},expression:"incomeform.status"}})],1),s("el-form-item",{attrs:{label:"备注",prop:"remark"}},[s("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入备注内容"},model:{value:e.incomeform.remark,callback:function(t){e.$set(e.incomeform,"remark",t)},expression:"incomeform.remark"}})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"curr-btn",attrs:{plain:""},on:{click:function(t){e.incomeDialogVisible=!1}}},[e._v("取消")]),s("el-button",{staticClass:"curr-btn",attrs:{type:"primary"},on:{click:e.saveIncome}},[e._v("保存")])],1)],1)],1)},i=[],l=s("2ef0"),o=(s("4328"),s("365c")),r={name:"SupplierDetail",data:function(){return{delVisible:!1,baseDialogVisible:!1,incomeDialogVisible:!1,page:{no:1,total:0,size:10},comInfo:{id:"",supplierName:"",supplierAddress:"",supplierMobile:"",supplierOther:"",memorandum:"",payDetail:"",effect:""},tableData:[{season:"2020春-2020秋",boxs:3,pics:120,value:34982,stock:43535}],form:{name:"",address:"",mobile:"",otherContact:"",remark:"",payStatus:"",use:""},incomeform:{name:"",date:"",income:"",status:"",remark:""},rules:{supplierName:[{required:!0,message:"请输入供应商名",trigger:"change"}],supplierAddress:[{required:!0,message:"请输入供应商地址",trigger:"change"}],supplierMobile:[{required:!0,message:"请输入联系电话",trigger:"change"}]},incomerules:{name:[{required:!0,message:"请输入客户名",trigger:"change"}],date:[{required:!0,message:"请输入日期",trigger:"change"}],income:[{required:!0,message:"请输入",trigger:"change"}]}}},created:function(){var e=this.$route.params.data;this.comInfo={id:e.id,supplierName:e.supplierName,supplierAddress:e.supplierAddress,supplierMobile:e.supplierMobile,supplierOther:e.supplierOther,memorandum:e.memorandum,payDetail:e.payDetail,effect:e.effect}},methods:{editReady:function(){var e=this;this.form=Object(l["cloneDeep"])(this.comInfo),this.baseDialogVisible=!0,this.$nextTick((function(){e.$refs.form.clearValidate()}))},delConfirm:function(){var e=this,t=this.$route.params.data.id;Object(o["u"])({id:t}).then((function(t){t&&(e.$message.success("删除成功"),e.delVisible=!1,e.baseDialogVisible=!1,e.$router.push({name:"supplier"}))}))},getData:function(){this.page.size,this.page.no},save:function(){var e=this,t=Object(l["cloneDeep"])(this.form);this.$refs.form.validate((function(s){s&&Object(o["f"])(t).then((function(t){t&&(e.$message.success({message:"修改成功"}),e.baseDialogVisible=!1,e.comInfo=Object(l["cloneDeep"])(e.form))}))}))},addIncomeReady:function(){var e=this;this.incomeform={name:"",date:"",income:"",status:"",remark:""},this.incomeDialogVisible=!0,this.$nextTick((function(){e.$refs.incomeform.clearValidate()}))},saveIncome:function(){Object(l["cloneDeep"])(this.incomeform);this.$refs.incomeform.validate((function(e){console.log(e)}))},back:function(){this.$router.push({name:"supplier"})},basePageChange:function(e){this.$set(this.page,"no",e),this.getData()},handleSizeChange:function(e){this.$set(this.page,"size",e),this.$set(this.page,"no",1),this.getData()}}},n=r,c=(s("c02a"),s("2877")),m=Object(c["a"])(n,a,i,!1,null,"1b789e42",null);t["default"]=m.exports},c02a:function(e,t,s){"use strict";var a=s("81f1"),i=s.n(a);i.a}}]);