(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["appuser"],{23979:function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"crumbs"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",[e._v("会员管理")])],1)],1),t("div",{staticClass:"box"},[t("div",{staticClass:"handle-box"},[t("el-button",{staticClass:"new-btn",attrs:{type:"primary"},on:{click:e.create}},[e._v("新建")])],1),t("div",{staticStyle:{height:"43px"}}),t("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,stripe:"","row-key":"id","header-cell-class-name":"table-header"}},[t("el-table-column",{attrs:{prop:"appName",label:"会员昵称",align:"center"}}),t("el-table-column",{attrs:{prop:"level",label:"会员等级",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("\n                "+e._s(e.getDict(a.row.level,"customerLevel"))+"\n            ")]}}])}),t("el-table-column",{attrs:{label:"会员状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("\n                "+e._s(1==a.row.status?"激活":"注销")+"\n            ")]}}])}),t("el-table-column",{attrs:{prop:"remarks",label:"备注",align:"center"}}),t("el-table-column",{attrs:{prop:"status",label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.edit(a.row)}}},[e._v("编辑")]),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.del(a.row)}}},[e._v("删除")])]}}])})],1),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{background:"","current-page":e.page.no,"page-size":e.page.size,"page-sizes":[5,10,20],total:e.page.total,layout:"total, prev, pager, next, sizes, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.basePageChange}})],1),t("el-dialog",{staticClass:"user-dialog",attrs:{"close-on-click-modal":!1,title:"create"===e.operate?"创建会员":"编辑会员",visible:e.dialogVisible,width:"700px"},on:{"update:visible":function(a){e.dialogVisible=a}}},[t("el-form",{staticClass:"demo-form-inline",attrs:{model:e.form,"label-width":"80px"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"会员昵称"}},[t("el-input",{attrs:{size:"mini"},model:{value:e.form.appName,callback:function(a){e.$set(e.form,"appName",a)},expression:"form.appName"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"会员密码"}},[t("el-input",{attrs:{size:"mini",placeholder:"create"===e.operate?"密码至少6位":"非必填，如需要修改密码请填写"},model:{value:e.form.password,callback:function(a){e.$set(e.form,"password",a)},expression:"form.password"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[t("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入"},model:{value:e.form.remarks,callback:function(a){e.$set(e.form,"remarks",a)},expression:"form.remarks"}})],1)],1),t("el-col",{attrs:{span:12}},["edit"===e.operate?t("el-form-item",{attrs:{label:"会员等级",prop:"level"}},[t("el-select",{staticClass:"form-input",attrs:{placeholder:"请选择会员等级"},model:{value:e.form.level,callback:function(a){e.$set(e.form,"level",a)},expression:"form.level"}},[t("el-option",{attrs:{value:1,label:"游客"}}),t("el-option",{attrs:{value:2,label:"普通"}}),t("el-option",{attrs:{value:3,label:"VIP"}})],1)],1):e._e()],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(a){e.dialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1)],1)])},s=[],o=t("365c"),i=t("2ef0"),r=t("7609"),n={name:"UserManage",props:{},data:function(){return{operate:"create",tableData:[],page:{no:1,total:0,size:20},form:{},dialogVisible:!1,level:"",userName:"",dict:""}},created:function(){this.getData(),this.dict=r["a"],this.getDict=r["a"].getDict},methods:{basePageChange:function(){this.$set(this.page,"no",val),this.getData()},handleSizeChange:function(e){this.$set(this.page,"size",e),this.$set(this.page,"no",1),this.getData()},getData:function(){var e=this,a={pageSize:this.page.size,page:this.page.no,userName:this.userName,isApp:1};Object(o["Mb"])(a).then((function(a){e.tableData=a.records,e.page.total=a.total,e.page.no=a.current}))},create:function(){this.operate="create",this.form={appName:"",password:"",isEu:1,status:1,level:1},this.openDialog()},edit:function(e){this.operate="edit",this.form=e,this.form.password="",this.openDialog()},del:function(e){var a=this;this.$confirm("确认删除当前会员？").then((function(t){Object(o["E"])({id:e.id}).then((function(e){a.$message.success({message:"删除成功"}),a.getData()}))})).catch((function(e){}))},save:function(){var e=this,a=Object(i["cloneDeep"])(this.form);if("create"==this.operate){if(this.form.password.length<6||this.form.password.length>12)return void uni.showToast({title:"密码应为6-12位",icon:"none",duration:1500});var t={appName:this.form.appName,password:this.form.password,isEu:1,status:1};Object(o["Ab"])(t).then((function(a){a.id&&(e.closeDialog(),e.getData())}))}if("edit"==this.operate){if(a.password){var l={memberName:a.memberName,password:a.password};l.password=window.btoa(l.password),Object(o["Nb"])(l).then((function(e){}))}delete a.password,Object(o["Ob"])(a).then((function(a){a&&(e.$message.success({message:"修改成功"}),e.closeDialog(),e.getData())}))}},openDialog:function(){this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1}}},u=n,c=(t("72d1"),t("2877")),p=Object(c["a"])(u,l,s,!1,null,"541a39a1",null);a["default"]=p.exports},"5e14":function(e,a,t){},"72d1":function(e,a,t){"use strict";var l=t("5e14"),s=t.n(l);s.a},7609:function(e,a,t){"use strict";var l={accountType:[{value:0,label:"现金"},{value:3,label:"发票"},{value:4,label:"汇款"},{value:5,label:"欠款"}],accountTypeEN:[{value:0,label:"CASH"},{value:3,label:"INVOICE"},{value:4,label:"REMITTANCE"},{value:5,label:"ARREARS"}],payWay:[{value:0,label:"发票"},{value:1,label:"汇款"}],payENWay:[{value:0,label:"INVOICE"},{value:1,label:"CASH"}],payStatus:[{value:0,label:"未支付"},{value:1,label:"已支付"},{value:2,label:"欠款"},{value:3,label:"已结欠"}],payENStatus:[{value:0,label:"PAID"},{value:1,label:"UNPAID"}],soldStatus:[{value:0,label:"即将到货"},{value:1,label:"现货"},{value:2,label:"售罄"}],settingItemValue:[{value:5,label:"特色/Special"},{value:0,label:"颜色/Color"},{value:1,label:"尺码/Size"},{value:2,label:"面料/Material"},{value:4,label:"配比/Ratio"},{value:6,label:"破洞/Destroyed"},{value:7,label:"面料(后台)/Material(back)"}],containerStatus:[{value:0,label:"未运输"},{value:1,label:"已发货"},{value:2,label:"已到达待确认"},{value:3,label:"已确认货物"}],transportType:[{value:0,label:"海运"},{value:2,label:"空运"},{value:3,label:"其他"}],verifyStatus:[{value:0,label:"未审核"},{value:1,label:"不通过"},{value:2,label:"审核通过"},{value:3,label:"通过欠款待发货"},{value:4,label:"仓库发货"},{value:5,label:"退审处理中"},{value:6,label:"退审处理中"}],verifyCheckStatus:[{value:0,label:"未审核"},{value:1,label:"已审核"},{value:2,label:"退审"}],userLevel:[{value:1,label:"销售人员"},{value:2,label:"管理员"}],customerLevel:[{value:1,label:"游客"},{value:2,label:"普通"},{value:3,label:"VIP"},{value:9,label:"隐藏"}],getDict:function(e,a){for(var t=0;t<l[a].length;t++){var s=l[a][t];if(s.value==e)return s.label}}};a["a"]=l}}]);