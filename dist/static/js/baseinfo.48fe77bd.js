(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["baseinfo"],{"092a":function(e,a,t){"use strict";var s=t("60df"),l=t.n(s);l.a},"33c2":function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"crumbs"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",[e._v("公司")]),t("el-breadcrumb-item",[e._v("基本信息")])],1)],1),t("div",{staticClass:"box"},[t("div",{staticClass:"handle-box"},[t("el-button",{attrs:{type:"primary"},on:{click:e.addReady}},[e._v("+添加新公司")])],1),t("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,stripe:"","header-cell-class-name":"table-header"}},[t("el-table-column",{attrs:{prop:"name",label:"公司名称",align:"center"}}),t("el-table-column",{attrs:{prop:"corporation",label:"法人代表",align:"center",width:"80"}}),t("el-table-column",{attrs:{label:"状态",align:"center",width:"90"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(e._s(0==a.row.status?"注销":"正常"))]}}])}),t("el-table-column",{attrs:{prop:"address",label:"地址",align:"center"}}),t("el-table-column",{attrs:{prop:"balance",label:"余额",align:"center"}}),t("el-table-column",{attrs:{label:"操作",width:"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{icon:"el-icon-s-operation",type:"primary"},on:{click:function(t){return e.checkDetail(a.row)}}},[e._v("查看详情")])]}}])})],1),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{background:"","current-page":e.page.no,"page-size":e.page.size,"page-sizes":[5,10,20],total:e.page.total,layout:"total, prev, pager, next, sizes, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.basePageChange}})],1)],1),t("el-dialog",{attrs:{"close-on-click-modal":!1,"show-close":!1,title:"添加新公司",visible:e.baseDialogVisible,width:"750px"},on:{"update:visible":function(a){e.baseDialogVisible=a}}},[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px",inline:!0,rules:e.rules}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"公司名称",prop:"name"}},[t("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入公司名",maxlength:"15","show-word-limit":""},model:{value:e.form.name,callback:function(a){e.$set(e.form,"name",a)},expression:"form.name"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"法人代表",prop:"corporation"}},[t("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入法人代表"},model:{value:e.form.corporation,callback:function(a){e.$set(e.form,"corporation",a)},expression:"form.corporation"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"营业执照号",prop:"license"}},[t("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入营业执照注册号"},model:{value:e.form.license,callback:function(a){e.$set(e.form,"license",a)},expression:"form.license"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"状态",prop:"status"}},[t("el-select",{staticClass:"form-input",attrs:{placeholder:"请选择"},model:{value:e.form.status,callback:function(a){e.$set(e.form,"status",a)},expression:"form.status"}},[t("el-option",{attrs:{label:"注销",value:0}}),t("el-option",{attrs:{label:"正常",value:1}})],1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"税务代码",prop:"taxation"}},[t("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入税务代码"},model:{value:e.form.taxation,callback:function(a){e.$set(e.form,"taxation",a)},expression:"form.taxation"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"银行名称",prop:"bankName"}},[t("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入"},model:{value:e.form.bankName,callback:function(a){e.$set(e.form,"bankName",a)},expression:"form.bankName"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"地址",prop:"address"}},[t("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入公司地址"},model:{value:e.form.address,callback:function(a){e.$set(e.form,"address",a)},expression:"form.address"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"银行账号",prop:"account"}},[t("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入"},model:{value:e.form.account,callback:function(a){e.$set(e.form,"account",a)},expression:"form.account"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入"},model:{value:e.form.password,callback:function(a){e.$set(e.form,"password",a)},expression:"form.password"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"银行卡号",prop:"cardNo"}},[t("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入"},model:{value:e.form.cardNo,callback:function(a){e.$set(e.form,"cardNo",a)},expression:"form.cardNo"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"流水初始金额",prop:"balance"}},[t("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入"},model:{value:e.form.balance,callback:function(a){e.$set(e.form,"balance",a)},expression:"form.balance"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"银行所在地",prop:"bankAddress"}},[t("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入"},model:{value:e.form.bankAddress,callback:function(a){e.$set(e.form,"bankAddress",a)},expression:"form.bankAddress"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"电话",prop:"phone"}},[t("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入联系电话"},model:{value:e.form.phone,callback:function(a){e.$set(e.form,"phone",a)},expression:"form.phone"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入联系邮箱"},model:{value:e.form.email,callback:function(a){e.$set(e.form,"email",a)},expression:"form.email"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"其他备注",prop:"remark"}},[t("el-input",{staticClass:"form-input",attrs:{size:"mini",placeholder:"请输入备注内容"},model:{value:e.form.remark,callback:function(a){e.$set(e.form,"remark",a)},expression:"form.remark"}})],1)],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{staticClass:"curr-btn",attrs:{plain:""},on:{click:function(a){e.baseDialogVisible=!1}}},[e._v("取消")]),t("el-button",{staticClass:"curr-btn",attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)],1)],1)},l=[],o=t("2ef0"),r=(t("4328"),t("365c")),n={name:"CompanyBaseInfo",data:function(){return{baseDialogVisible:!1,page:{no:1,total:0,size:20},tableData:[],form:{name:"",corporation:"",license:"",status:1,taxation:"",bankName:"",bankAddress:"",address:"",account:"",phone:"",balance:"",email:"",remark:"",cardNo:"",password:""},rules:{name:[{required:!0,message:"请输入公司名",trigger:"change"}]}}},created:function(){this.getData()},methods:{resetData:function(){this.form={name:"",corporation:"",license:"",status:1,taxation:"",bankName:"",bankAddress:"",address:"",account:"",phone:"",balance:"",email:"",remark:"",cardNo:"",password:""}},addReady:function(){this.resetData(),this.baseDialogVisible=!0},getData:function(){var e=this,a={pageSize:this.page.size,page:this.page.no};Object(r["L"])(a).then((function(a){e.tableData=a.records,e.page.total=a.total,e.page.no=a.current}))},save:function(){var e=this,a=Object(o["cloneDeep"])(this.form),t=[{account:this.form.account,address:this.form.bankAddress,bankName:this.form.bankName,cardNo:this.form.cardNo,password:this.form.password}];delete a.account,delete a.bankAddress,delete a.bankName,delete a.cardNo,delete a.password,a.banks=t,this.$refs.form.validate((function(t){t&&Object(r["b"])(a).then((function(a){a&&(e.$message.success({message:"添加成功"}),e.baseDialogVisible=!1,e.getData())}))}))},checkDetail:function(e){this.$router.push({name:"compbaseinfodetail",params:{data:e}})},basePageChange:function(e){this.$set(this.page,"no",e),this.getData()},handleSizeChange:function(e){this.$set(this.page,"size",e),this.$set(this.page,"no",1),this.getData()}}},i=n,c=(t("092a"),t("2877")),m=Object(c["a"])(i,s,l,!1,null,"525fb3d8",null);a["default"]=m.exports},"60df":function(e,a,t){}}]);